TestForwardTSOWhenPrimaryChanged1
[2023/03/17 15:44:33.983 +08:00] [INFO] [server.go:221] ["API service config"] [config="{\"client-urls\":\"http://127.0.0.1:44846\",\"peer-urls\":\"http://127.0.0.1:45363\",\"advertise-client-urls\":\"http://127.0.0.1:44846\",\"advertise-peer-urls\":\"http://127.0.0.1:45363\",\"name\":\"pd1\",\"data-dir\":\"/tmp/pd-tests4090664493\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd1=http://127.0.0.1:45363\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"\",\"max-size\":0,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null,\"error-output-path\":\"\"},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd1\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":0,\"split-merge-interval\":\"1h0m0s\",\"swtich-witness-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"witness-schedule-limit\":4,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"enable-tikv-split-region\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-witness\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"transfer-witness-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7,\"enable-diagnostic\":\"false\",\"enable-witness\":\"false\",\"slow-store-evicting-affected-store-ratio-threshold\":0.3},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":false,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"pause-region-split\":\"false\"}},\"keyspace\":{\"pre-alloc\":null},\"controller\":{\"degraded-mode-wait-duration\":\"0s\",\"request-unit\":{\"read-base-cost\":0.25,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333}}}"]
[2023/03/17 15:44:33.989 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v1]
[2023/03/17 15:44:33.989 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v2/]
[2023/03/17 15:44:33.989 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/swagger/]
[2023/03/17 15:44:33.989 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/autoscaling]
[2023/03/17 15:44:33.990 +08:00] [INFO] [distro.go:51] ["using distribution strings"] [strings={}]
[2023/03/17 15:44:33.992 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/api/]
[2023/03/17 15:44:33.992 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/]
[2023/03/17 15:44:33.992 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd1] [service-name=MetaStorage]
[2023/03/17 15:44:33.992 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/resource-manager/api/v1/]
[2023/03/17 15:44:33.992 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd1] [service-name=ResourceManager]
TestForwardTSOWhenPrimaryChanged2
[2023/03/17 15:44:33.992 +08:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://127.0.0.1:45363]"]
[2023/03/17 15:44:33.992 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/17 15:44:33.992 +08:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:33.992 +08:00] [INFO] [etcd.go:611] ["pprof is enabled"] [path=/debug/pprof]
[2023/03/17 15:44:33.992 +08:00] [INFO] [etcd.go:305] ["starting an etcd server"] [etcd-version=3.4.21] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.20.1] [go-os=linux] [go-arch=amd64] [max-cpu-set=40] [max-cpu-available=40] [member-initialized=false] [name=pd1] [data-dir=/tmp/pd-tests4090664493] [wal-dir=] [wal-dir-dedicated=] [member-dir=/tmp/pd-tests4090664493/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://127.0.0.1:45363]"] [listen-peer-urls="[http://127.0.0.1:45363]"] [advertise-client-urls="[http://127.0.0.1:44846]"] [listen-client-urls="[http://127.0.0.1:44846]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster="pd1=http://127.0.0.1:45363"] [initial-cluster-state=new] [initial-cluster-token=pd-cluster] [quota-backend-bytes=8589934592] [max-request-bytes=157286400] [max-concurrent-streams=4294967295] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2023/03/17 15:44:33.992 +08:00] [WARN] [server.go:297] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2023/03/17 15:44:33.993 +08:00] [INFO] [backend.go:80] ["opened backend db"] [path=/tmp/pd-tests4090664493/member/snap/db] [took=457.096Âµs]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:536] ["starting local member"] [local-member-id=93db312da37ceb1e] [cluster-id=4b0d5e4d2f65c662]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:1523] ["93db312da37ceb1e switched to configuration voters=()"]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:706] ["93db312da37ceb1e became follower at term 0"]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:389] ["newRaft 93db312da37ceb1e [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]"]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:706] ["93db312da37ceb1e became follower at term 1"]
[2023/03/17 15:44:33.994 +08:00] [INFO] [raft.go:1523] ["93db312da37ceb1e switched to configuration voters=(10654163415561202462)"]
[2023/03/17 15:44:33.995 +08:00] [WARN] [store.go:1379] ["simple token is not cryptographically signed"]
[2023/03/17 15:44:33.995 +08:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2023/03/17 15:44:33.996 +08:00] [INFO] [server.go:816] ["starting etcd server"] [local-member-id=93db312da37ceb1e] [local-server-version=3.4.21] [cluster-version=to_be_decided]
[2023/03/17 15:44:33.996 +08:00] [INFO] [server.go:682] ["started as single-node; fast-forwarding election ticks"] [local-member-id=93db312da37ceb1e] [forward-ticks=5] [forward-duration=2.5s] [election-ticks=6] [election-timeout=3s]
[2023/03/17 15:44:33.996 +08:00] [INFO] [raft.go:1523] ["93db312da37ceb1e switched to configuration voters=(10654163415561202462)"]
[2023/03/17 15:44:33.996 +08:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=4b0d5e4d2f65c662] [local-member-id=93db312da37ceb1e] [added-peer-id=93db312da37ceb1e] [added-peer-peer-urls="[http://127.0.0.1:45363]"]
[2023/03/17 15:44:33.998 +08:00] [INFO] [etcd.go:247] ["now serving peer/client/metrics"] [local-member-id=93db312da37ceb1e] [initial-advertise-peer-urls="[http://127.0.0.1:45363]"] [listen-peer-urls="[http://127.0.0.1:45363]"] [advertise-client-urls="[http://127.0.0.1:44846]"] [listen-client-urls="[http://127.0.0.1:44846]"] [listen-metrics-urls="[]"]
[2023/03/17 15:44:33.998 +08:00] [INFO] [etcd.go:585] ["serving peer traffic"] [address=127.0.0.1:45363]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:929] ["93db312da37ceb1e is starting a new election at term 1"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:735] ["93db312da37ceb1e became pre-candidate at term 1"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:830] ["93db312da37ceb1e received MsgPreVoteResp from 93db312da37ceb1e at term 1"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:719] ["93db312da37ceb1e became candidate at term 2"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:830] ["93db312da37ceb1e received MsgVoteResp from 93db312da37ceb1e at term 2"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [raft.go:771] ["93db312da37ceb1e became leader at term 2"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [node.go:327] ["raft.node: 93db312da37ceb1e elected leader 93db312da37ceb1e at term 2"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [server.go:2069] ["published local member to cluster through raft"] [local-member-id=93db312da37ceb1e] [local-member-attributes="{Name:pd1 ClientURLs:[http://127.0.0.1:44846]}"] [request-path=/0/members/93db312da37ceb1e/attributes] [cluster-id=4b0d5e4d2f65c662] [publish-timeout=11s]
[2023/03/17 15:44:36.996 +08:00] [INFO] [server.go:2567] ["setting up initial cluster version"] [cluster-version=3.4]
[2023/03/17 15:44:36.996 +08:00] [INFO] [etcdutil.go:242] ["create etcd v3 client"] [endpoints="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:36.996 +08:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=4b0d5e4d2f65c662] [local-member-id=93db312da37ceb1e] [cluster-version=3.4]
[2023/03/17 15:44:36.997 +08:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2023/03/17 15:44:36.997 +08:00] [INFO] [server.go:2599] ["cluster version is updated"] [cluster-version=3.4]
[2023/03/17 15:44:36.997 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd1] [service-name=MetaStorage]
[2023/03/17 15:44:36.997 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd1] [service-name=ResourceManager]
[2023/03/17 15:44:36.997 +08:00] [INFO] [serve.go:145] ["serving client traffic insecurely; this is strongly discouraged!"] [address=127.0.0.1:44846]
[2023/03/17 15:44:37.000 +08:00] [INFO] [server.go:366] ["init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:37.005 +08:00] [INFO] [history_buffer.go:154] ["start from history index"] [start-index=0]
[2023/03/17 15:44:37.009 +08:00] [INFO] [server.go:432] ["triggering the start callback functions"]
[2023/03/17 15:44:37.010 +08:00] [INFO] [manager.go:44] ["meta storage starts to initialize"] [name=pd1]
[2023/03/17 15:44:37.010 +08:00] [INFO] [manager.go:79] ["resource group manager starts to initialize"] [name=pd1]
TestForwardTSOWhenPrimaryChanged3
[2023/03/17 15:44:37.010 +08:00] [INFO] [server.go:1434] ["start to campaign API service leader"] [campaign-leader-name=pd1]
[2023/03/17 15:44:37.010 +08:00] [WARN] [server.go:1724] ["service primary addr doesn't exist"] [service-key=/ms/7211417921639550598/tso/00000/primary]
[2023/03/17 15:44:37.010 +08:00] [WARN] [server.go:1724] ["service primary addr doesn't exist"] [service-key=/ms/7211417921639550598/resource_manager/00000/primary]
[2023/03/17 15:44:37.011 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385840909] [lease-timeout=3] [purpose="leader election"]
[2023/03/17 15:44:37.011 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":6,\"raft_term\":2},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":6}}}}]}"]
[2023/03/17 15:44:37.011 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/pd/7211417921639550598/leader] [purpose="leader election"]
[2023/03/17 15:44:37.011 +08:00] [INFO] [server.go:1460] ["campaign API service leader ok"] [campaign-leader-name=pd1]
[2023/03/17 15:44:37.012 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="leader election"]
[2023/03/17 15:44:37.012 +08:00] [INFO] [server.go:1581] ["server enable region storage"]
[2023/03/17 15:44:37.013 +08:00] [INFO] [server.go:1496] ["triggering the leader callback functions"]
[2023/03/17 15:44:37.014 +08:00] [INFO] [manager.go:130] ["resource group manager finishes initialization"]
[2023/03/17 15:44:37.015 +08:00] [INFO] [id.go:174] ["idAllocator allocates a new id"] [new-end=1000] [new-base=0] [label=idalloc] [check-curr-end=true]
[2023/03/17 15:44:37.015 +08:00] [INFO] [util.go:41] ["load cluster version"] [cluster-version=0.0.0]
[2023/03/17 15:44:37.015 +08:00] [INFO] [server.go:1525] ["API service leader is ready to serve"] [leader-name=pd1]
[2023/03/17 15:44:37.531 +08:00] [INFO] [client.go:289] ["[pd] create pd client with endpoints"] [pd-address="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:37.532 +08:00] [INFO] [pd_service_discovery.go:524] ["[pd] switch leader"] [new-leader=http://127.0.0.1:44846] [old-leader=]
[2023/03/17 15:44:37.532 +08:00] [INFO] [pd_service_discovery.go:167] ["[pd] init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:37.532 +08:00] [INFO] [client.go:369] ["changing service mode"] [old-mode=UNKNOWN_SVC_MODE] [new-mode=API_SVC_MODE]
[2023/03/17 15:44:37.532 +08:00] [INFO] [tso_service_discovery.go:98] ["created tso service discovery"] [discovery-key=/ms/7211417921639550598/tso/00000/primary]
[2023/03/17 15:44:37.533 +08:00] [ERROR] [tso_service_discovery.go:294] ["[tso] didn't find the keyspace serving endpoint"]
[2023/03/17 15:44:38.011 +08:00] [INFO] [server.go:1097] ["PD server config is updated"] [new="{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"http://127.0.0.1:44846\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6}"] [old="{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6}"]
[2023/03/17 15:44:38.534 +08:00] [ERROR] [client.go:393] ["failed to initialize tso service discovery. keep the current service mode"] [svr-urls="[http://127.0.0.1:44846]"] [current-mode=UNKNOWN_SVC_MODE] [error="[PD:client:ErrClientGetLeader]get leader from %v error"]
TestForwardTSOWhenPrimaryChanged01
[2023/03/17 15:44:38.555 +08:00] [INFO] [server.go:606] ["try to bootstrap raft cluster"] [cluster-id=7211417921639550598] [request="header:<cluster_id:7211417921639550598 > store:<id:1 address:\"mock://1\" last_heartbeat:1679039078554584429 > region:<id:2 peers:<id:3 store_id:1 > > "]
[2023/03/17 15:44:38.556 +08:00] [INFO] [server.go:667] ["bootstrap cluster ok"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:38.559 +08:00] [INFO] [cluster.go:460] ["load stores"] [count=1] [cost=859.559Âµs]
[2023/03/17 15:44:38.559 +08:00] [INFO] [cluster.go:471] ["load regions"] [count=1] [cost=102.07Âµs]
[2023/03/17 15:44:38.561 +08:00] [INFO] [coordinator.go:319] ["coordinator starts to collect cluster information"]
[2023/03/17 15:44:38.561 +08:00] [INFO] [cluster.go:321] ["memory info"] [total-mem=202567483392]
[2023/03/17 15:44:38.561 +08:00] [INFO] [tuner.go:117] ["new gctuner"] [threshold=121540490035]
[2023/03/17 15:44:38.561 +08:00] [INFO] [cluster.go:334] ["update gc tuner"] [enable-gc-tuner=false] [gc-threshold-bytes=121540490035]
[2023/03/17 15:44:38.561 +08:00] [INFO] [memory_limit_tuner.go:50] [debug.SetMemoryLimit] [limit=9223372036854775807] [ret=9223372036854775807]
[2023/03/17 15:44:38.561 +08:00] [INFO] [cluster.go:341] ["update gc memory limit"] [memory-limit-bytes=0] [memory-limit-gc-trigger-ratio=0.7]
[2023/03/17 15:44:38.562 +08:00] [INFO] [keyspace.go:217] ["[keyspace] added region label for keyspace"] [keyspaceID=0] [LabelRule="{\"id\":\"keyspaces/0\",\"index\":0,\"labels\":[{\"key\":\"id\",\"value\":\"0\"}],\"rule_type\":\"key-range\",\"data\":[{\"start_key\":\"7200000000000000fb\",\"end_key\":\"7200000100000000fb\"},{\"start_key\":\"7800000000000000fb\",\"end_key\":\"7800000100000000fb\"}]}"]
[2023/03/17 15:44:38.613 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/17 15:44:38.613 +08:00] [INFO] [etcdutil.go:242] ["create etcd v3 client"] [endpoints="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:38.614 +08:00] [INFO] [server.go:569] ["init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:38.614 +08:00] [INFO] [server.go:585] ["joining primary election"] [participant-name=127.0.0.1:43074] [participant-id=9485993900856490311]
[2023/03/17 15:44:38.614 +08:00] [INFO] [server.go:618] ["triggering the start callback functions"]
[2023/03/17 15:44:38.616 +08:00] [INFO] [server.go:218] ["start to campaign the primary/leader"] [campaign-tso-primary-name=127.0.0.1:43074]
[2023/03/17 15:44:38.616 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385840945] [lease-timeout=3] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.617 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":15,\"raft_term\":2},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":15}}}}]}"]
[2023/03/17 15:44:38.617 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.617 +08:00] [INFO] [server.go:244] ["campaign tso primary ok"] [campaign-tso-primary-name=127.0.0.1:43074]
[2023/03/17 15:44:38.617 +08:00] [INFO] [server.go:251] ["initializing the global tso allocator"]
[2023/03/17 15:44:38.617 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.618 +08:00] [INFO] [tso.go:183] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/03/17 15:44:41.617 +08:00] [next=2023/03/17 15:44:38.617 +08:00]
[2023/03/17 15:44:38.618 +08:00] [INFO] [server.go:260] ["triggering the primary callback functions"]
[2023/03/17 15:44:38.618 +08:00] [INFO] [server.go:268] ["tso primary is ready to serve"] [tso-primary-name=127.0.0.1:43074]
StartSingleTSOTestServer 0
for start addr http://127.0.0.1:43074
[2023/03/17 15:44:38.696 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/17 15:44:38.696 +08:00] [INFO] [etcdutil.go:242] ["create etcd v3 client"] [endpoints="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:38.697 +08:00] [INFO] [server.go:569] ["init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:38.697 +08:00] [INFO] [server.go:585] ["joining primary election"] [participant-name=127.0.0.1:41644] [participant-id=188785062608605182]
[2023/03/17 15:44:38.697 +08:00] [INFO] [server.go:618] ["triggering the start callback functions"]
[2023/03/17 15:44:38.699 +08:00] [INFO] [server.go:207] ["start to watch the primary/leader"] [tso-primary="name:\"127.0.0.1:43074\" id:9485993900856490311 listen_urls:\"http://127.0.0.1:43074\" "]
StartSingleTSOTestServer 1
for start addr http://127.0.0.1:41644
[2023/03/17 15:44:38.786 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/17 15:44:38.786 +08:00] [INFO] [etcdutil.go:242] ["create etcd v3 client"] [endpoints="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:38.787 +08:00] [INFO] [server.go:569] ["init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:38.788 +08:00] [INFO] [server.go:585] ["joining primary election"] [participant-name=127.0.0.1:42058] [participant-id=3190095767121226522]
[2023/03/17 15:44:38.788 +08:00] [INFO] [server.go:618] ["triggering the start callback functions"]
[2023/03/17 15:44:38.789 +08:00] [INFO] [server.go:207] ["start to watch the primary/leader"] [tso-primary="name:\"127.0.0.1:43074\" id:9485993900856490311 listen_urls:\"http://127.0.0.1:43074\" "]
StartSingleTSOTestServer 2
for start addr http://127.0.0.1:42058
TestForwardTSOWhenPrimaryChanged03
close addr http://127.0.0.1:43074
close tso server1
close tso server2
[2023/03/17 15:44:38.839 +08:00] [INFO] [server.go:297] ["closing tso server ..."]
[2023/03/17 15:44:38.839 +08:00] [INFO] [register.go:78] ["exit register process"] [key=/pd/microservice/tso/registry/http:/127.0.0.1:43074]
close tso server3
close tso server4
close tso server5
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:557] ["mux stop serving"] [error="accept tcp 127.0.0.1:43074: use of closed network connection"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:282] ["server is closed"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:562] ["mux stopped serving"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [tso.go:374] ["reset the timestamp in memory"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:186] ["tso server is closed, exit allocator loop"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [lease.go:162] ["stop lease keep alive worker"] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:527] ["http server stopped serving"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:534] ["all http(s) requests finished"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:537] ["http server stopped"]
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:488] ["grpc server stopped serving"]
grpc server stopped serving00000000
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:495] ["try to gracefully stop the server now"]
grpc server stopped serving2grpc server stopped serving4
grpc server stopped serving5
[2023/03/17 15:44:38.840 +08:00] [INFO] [server.go:510] ["grpc server stopped"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [leadership.go:211] ["current leadership is deleted"] [leader-key=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [leadership.go:211] ["current leadership is deleted"] [leader-key=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [server.go:210] ["the tso primary/leader has changed, try to re-campaign a primary/leader"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [server.go:210] ["the tso primary/leader has changed, try to re-campaign a primary/leader"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [server.go:218] ["start to campaign the primary/leader"] [campaign-tso-primary-name=127.0.0.1:42058]
[2023/03/17 15:44:38.841 +08:00] [INFO] [server.go:218] ["start to campaign the primary/leader"] [campaign-tso-primary-name=127.0.0.1:41644]
[2023/03/17 15:44:38.841 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385840962] [lease-timeout=3] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.841 +08:00] [WARN] [util.go:121] ["failed to apply request"] [took=31.767Âµs] [request="header:<ID:16942127207240616773 > lease_revoke:<id:6b1e86ee870ecb31>"] [response=size:27] [error="lease not found"]
[2023/03/17 15:44:38.841 +08:00] [WARN] [retry_interceptor.go:62] ["retrying of unary invoker failed"] [target=endpoint://client-645c6c7f-c23b-492f-8c10-efe0c7d6ec89/127.0.0.1:44846] [attempt=0] [error="rpc error: code = NotFound desc = etcdserver: requested lease not found"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [server.go:195] ["server is closed, exit tso primary election loop"]
[2023/03/17 15:44:38.841 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385840964] [lease-timeout=3] [purpose="keyspace group primary election"]
close tso server6
close tso server7
close tso server8
[2023/03/17 15:44:38.842 +08:00] [INFO] [server.go:318] ["tso server is closed"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":21,\"raft_term\":2},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":21}}}}]}"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [server.go:244] ["campaign tso primary ok"] [campaign-tso-primary-name=127.0.0.1:42058]
[2023/03/17 15:44:38.842 +08:00] [INFO] [server.go:251] ["initializing the global tso allocator"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":21,\"raft_term\":2}}"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="keyspace group primary election"]
[2023/03/17 15:44:38.842 +08:00] [ERROR] [tso.go:171] ["system time may be incorrect"] [last=2023/03/17 15:44:41.617 +08:00] [next=2023/03/17 15:44:38.842 +08:00] [error="[PD:common:ErrIncorrectSystemTime]incorrect system time"]
[2023/03/17 15:44:38.842 +08:00] [INFO] [server.go:221] ["campaign tso primary/leader meets error due to txn conflict, another tso server may campaign successfully"] [campaign-tso-primary-name=127.0.0.1:41644]
[2023/03/17 15:44:38.843 +08:00] [INFO] [tso.go:183] ["sync and save timestamp"] [last=2023/03/17 15:44:41.617 +08:00] [save=2023/03/17 15:44:44.618 +08:00] [next=2023/03/17 15:44:41.618 +08:00]
[2023/03/17 15:44:38.843 +08:00] [INFO] [server.go:260] ["triggering the primary callback functions"]
[2023/03/17 15:44:38.843 +08:00] [INFO] [server.go:268] ["tso primary is ready to serve"] [tso-primary-name=127.0.0.1:42058]
[2023/03/17 15:44:38.843 +08:00] [INFO] [server.go:207] ["start to watch the primary/leader"] [tso-primary="name:\"127.0.0.1:42058\" id:3190095767121226522 listen_urls:\"http://127.0.0.1:42058\" "]
[2023/03/17 15:44:39.012 +08:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/tmp/pd-tests4090664493/dashboard.sqlite.db]
[2023/03/17 15:44:39.027 +08:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=0.0.0] [standalone=Yes] [pd-version=0.0.0] [build-time="1970-01-01 00:00:00"] [build-git-hash=Unknown]
[2023/03/17 15:44:39.027 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:45556] [remotes="[]"]
[2023/03/17 15:44:39.027 +08:00] [INFO] [manager.go:196] ["dashboard server is started"]
[2023/03/17 15:44:39.027 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:32847] [remotes="[]"]
[2023/03/17 15:44:39.028 +08:00] [WARN] [dynamic_config_manager.go:164] ["Dynamic config does not exist in etcd"]
[2023/03/17 15:44:39.029 +08:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2023/03/17 15:44:39.033 +08:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2023/03/17 15:44:41.535 +08:00] [INFO] [client.go:369] ["changing service mode"] [old-mode=UNKNOWN_SVC_MODE] [new-mode=API_SVC_MODE]
[2023/03/17 15:44:41.535 +08:00] [INFO] [tso_service_discovery.go:98] ["created tso service discovery"] [discovery-key=/ms/7211417921639550598/tso/00000/primary]
[2023/03/17 15:44:41.536 +08:00] [INFO] [tso_client.go:215] ["[tso] switch dc tso allocator serving address"] [dc-location=global] [new-address=http://127.0.0.1:42058]
[2023/03/17 15:44:41.536 +08:00] [INFO] [tso_service_discovery.go:282] ["[tso] switch primary"] [new-primary=http://127.0.0.1:42058] [old-primary=]
[2023/03/17 15:44:41.536 +08:00] [INFO] [tso_dispatcher.go:290] ["[tso] tso dispatcher created"] [dc-location=global]
[2023/03/17 15:44:41.536 +08:00] [INFO] [client.go:411] ["service mode changed"] [old-mode=UNKNOWN_SVC_MODE] [new-mode=API_SVC_MODE]
[2023/03/17 15:44:41.562 +08:00] [INFO] [coordinator.go:322] ["coordinator has finished cluster information preparation"]
[2023/03/17 15:44:41.562 +08:00] [INFO] [coordinator.go:332] ["coordinator starts to run schedulers"]
[2023/03/17 15:44:41.563 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=balance-region-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.564 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=balance-leader-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.564 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=balance-witness-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.565 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=balance-hot-region-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.565 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=split-bucket-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.566 +08:00] [INFO] [coordinator.go:402] ["create scheduler"] [scheduler-name=transfer-witness-leader-scheduler] [scheduler-args="[]"]
[2023/03/17 15:44:41.567 +08:00] [INFO] [coordinator.go:291] ["coordinator begins to actively drive push operator"]
[2023/03/17 15:44:41.567 +08:00] [INFO] [coordinator.go:124] ["coordinator starts patrol regions"]
[2023/03/17 15:44:41.567 +08:00] [INFO] [coordinator.go:227] ["coordinator begins to check suspect key ranges"]
TestForwardTSOWhenPrimaryChanged04
checkAvailableTSO1
[2023/03/17 15:44:41.844 +08:00] [INFO] [grpc_service.go:1560] ["update service GC safe point"] [service-id=a] [expire-at=1679040081] [safepoint=1]
checkAvailableTSO2
checkAvailableTSO4
TestForwardTSOWhenPrimaryChanged05
[2023/03/17 15:44:41.845 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/17 15:44:41.846 +08:00] [INFO] [etcdutil.go:242] ["create etcd v3 client"] [endpoints="[http://127.0.0.1:44846]"]
[2023/03/17 15:44:41.846 +08:00] [INFO] [server.go:569] ["init cluster id"] [cluster-id=7211417921639550598]
[2023/03/17 15:44:41.846 +08:00] [INFO] [server.go:585] ["joining primary election"] [participant-name=127.0.0.1:43074] [participant-id=9485993900856490311]
[2023/03/17 15:44:41.846 +08:00] [INFO] [server.go:618] ["triggering the start callback functions"]
[2023/03/17 15:44:41.848 +08:00] [INFO] [server.go:207] ["start to watch the primary/leader"] [tso-primary="name:\"127.0.0.1:42058\" id:3190095767121226522 listen_urls:\"http://127.0.0.1:42058\" "]
start addr http://127.0.0.1:43074
checkAvailableTSO1
[2023/03/17 15:44:41.900 +08:00] [INFO] [grpc_service.go:1560] ["update service GC safe point"] [service-id=a] [expire-at=1679040081] [safepoint=1]
checkAvailableTSO2
checkAvailableTSO4
close addr http://127.0.0.1:41644
close tso server1
close tso server2
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:297] ["closing tso server ..."]
[2023/03/17 15:44:41.901 +08:00] [INFO] [register.go:78] ["exit register process"] [key=/pd/microservice/tso/registry/http:/127.0.0.1:41644]
close tso server3
close tso server4
close tso server5
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:557] ["mux stop serving"] [error="accept tcp 127.0.0.1:41644: use of closed network connection"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:562] ["mux stopped serving"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:186] ["tso server is closed, exit allocator loop"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:527] ["http server stopped serving"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:210] ["the tso primary/leader has changed, try to re-campaign a primary/leader"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:488] ["grpc server stopped serving"]
grpc server stopped serving00000000
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:218] ["start to campaign the primary/leader"] [campaign-tso-primary-name=127.0.0.1:41644]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:495] ["try to gracefully stop the server now"]
grpc server stopped serving2grpc server stopped serving4
grpc server stopped serving5
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:510] ["grpc server stopped"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:534] ["all http(s) requests finished"]
[2023/03/17 15:44:41.901 +08:00] [INFO] [server.go:537] ["http server stopped"]
[2023/03/17 15:44:41.902 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385841000] [lease-timeout=3] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.902 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":37,\"raft_term\":2}}"]
[2023/03/17 15:44:41.902 +08:00] [INFO] [server.go:221] ["campaign tso primary/leader meets error due to txn conflict, another tso server may campaign successfully"] [campaign-tso-primary-name=127.0.0.1:41644]
[2023/03/17 15:44:41.902 +08:00] [INFO] [server.go:195] ["server is closed, exit tso primary election loop"]
close tso server6
close tso server7
close tso server8
[2023/03/17 15:44:41.902 +08:00] [INFO] [server.go:318] ["tso server is closed"]
close addr http://127.0.0.1:42058
close tso server1
close tso server2
[2023/03/17 15:44:41.902 +08:00] [INFO] [server.go:297] ["closing tso server ..."]
[2023/03/17 15:44:41.903 +08:00] [INFO] [register.go:78] ["exit register process"] [key=/pd/microservice/tso/registry/http:/127.0.0.1:42058]
close tso server3
close tso server4
close tso server5
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:557] ["mux stop serving"] [error="accept tcp 127.0.0.1:42058: use of closed network connection"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:282] ["server is closed"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:186] ["tso server is closed, exit allocator loop"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:488] ["grpc server stopped serving"]
grpc server stopped serving00000000
[2023/03/17 15:44:41.903 +08:00] [INFO] [tso.go:374] ["reset the timestamp in memory"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:495] ["try to gracefully stop the server now"]
grpc server stopped serving2[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:527] ["http server stopped serving"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:534] ["all http(s) requests finished"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:537] ["http server stopped"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [lease.go:162] ["stop lease keep alive worker"] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.903 +08:00] [INFO] [server.go:562] ["mux stopped serving"]
[2023/03/17 15:44:41.903 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:41.903 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:41.904 +08:00] [WARN] [util.go:121] ["failed to apply request"] [took=34.292Âµs] [request="header:<ID:16942127207240616814 > lease_revoke:<id:6b1e86ee870ecb42>"] [response=size:27] [error="lease not found"]
[2023/03/17 15:44:41.904 +08:00] [WARN] [retry_interceptor.go:62] ["retrying of unary invoker failed"] [target=endpoint://client-104235cb-6c22-438a-9a72-c57b5ad7be9d/127.0.0.1:44846] [attempt=0] [error="rpc error: code = NotFound desc = etcdserver: requested lease not found"]
[2023/03/17 15:44:41.904 +08:00] [INFO] [server.go:195] ["server is closed, exit tso primary election loop"]
[2023/03/17 15:44:41.942 +08:00] [INFO] [leadership.go:211] ["current leadership is deleted"] [leader-key=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.942 +08:00] [INFO] [server.go:210] ["the tso primary/leader has changed, try to re-campaign a primary/leader"]
[2023/03/17 15:44:41.942 +08:00] [INFO] [server.go:218] ["start to campaign the primary/leader"] [campaign-tso-primary-name=127.0.0.1:43074]
[2023/03/17 15:44:41.943 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=7718755170385841007] [lease-timeout=3] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.944 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":5408082413142525538,\"member_id\":10654163415561202462,\"revision\":40,\"raft_term\":2},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":40}}}}]}"]
[2023/03/17 15:44:41.944 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/ms/7211417921639550598/tso/00000/primary] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.944 +08:00] [INFO] [server.go:244] ["campaign tso primary ok"] [campaign-tso-primary-name=127.0.0.1:43074]
[2023/03/17 15:44:41.944 +08:00] [INFO] [server.go:251] ["initializing the global tso allocator"]
[2023/03/17 15:44:41.944 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="keyspace group primary election"]
[2023/03/17 15:44:41.944 +08:00] [ERROR] [tso.go:56] ["parse timestamp window that from etcd failed"] [ts-window-key=raft/external_timestamp] [max-ts-window=0001/01/01 00:00:00.000 +00:00] [error="[PD:typeutil:ErrBytesToUint64]invalid data, must 8 bytes, but 1"]
[2023/03/17 15:44:41.944 +08:00] [ERROR] [tso.go:171] ["system time may be incorrect"] [last=2023/03/17 15:44:44.618 +08:00] [next=2023/03/17 15:44:41.944 +08:00] [error="[PD:common:ErrIncorrectSystemTime]incorrect system time"]
[2023/03/17 15:44:41.945 +08:00] [INFO] [tso.go:183] ["sync and save timestamp"] [last=2023/03/17 15:44:44.618 +08:00] [save=2023/03/17 15:44:47.619 +08:00] [next=2023/03/17 15:44:44.619 +08:00]
[2023/03/17 15:44:41.945 +08:00] [INFO] [server.go:260] ["triggering the primary callback functions"]
[2023/03/17 15:44:41.945 +08:00] [INFO] [server.go:268] ["tso primary is ready to serve"] [tso-primary-name=127.0.0.1:43074]
[2023/03/17 15:44:42.904 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:42.904 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:44.263 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:44.712 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
grpc server stopped serving3
[2023/03/17 15:44:46.904 +08:00] [INFO] [server.go:505] ["stopping grpc gracefully is taking longer than expected and force stopping now"]
[2023/03/17 15:44:46.904 +08:00] [WARN] [grpclog.go:60] ["transport: http2Server.HandleStreams failed to read frame: read tcp 127.0.0.1:42058->127.0.0.1:35862: use of closed network connection"]
grpc server stopped serving5
[2023/03/17 15:44:46.904 +08:00] [INFO] [server.go:510] ["grpc server stopped"]
close tso server6
close tso server7
close tso server8
[2023/03/17 15:44:46.904 +08:00] [INFO] [server.go:318] ["tso server is closed"]
TestForwardTSOWhenPrimaryChanged06
[2023/03/17 15:44:47.108 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:47.456 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:48.562 +08:00] [INFO] [cluster.go:1638] ["store has changed to serving"] [store-id=1] [store-address=mock://1]
[2023/03/17 15:44:49.905 +08:00] [ERROR] [tso_dispatcher.go:453] ["[tso] getTS error"] [dc-location=global] [stream-addr=http://127.0.0.1:42058] [error="[PD:client:ErrClientGetTSO]EOF: EOF"]
checkAvailableTSO1
[2023/03/17 15:44:49.905 +08:00] [INFO] [tso_client.go:215] ["[tso] switch dc tso allocator serving address"] [dc-location=global] [new-address=http://127.0.0.1:43074]
[2023/03/17 15:44:49.905 +08:00] [INFO] [tso_service_discovery.go:282] ["[tso] switch primary"] [new-primary=http://127.0.0.1:43074] [old-primary=http://127.0.0.1:42058]
[2023/03/17 15:44:49.907 +08:00] [INFO] [grpc_service.go:1560] ["update service GC safe point"] [service-id=a] [expire-at=1679040089] [safepoint=1]
checkAvailableTSO2
checkAvailableTSO4
TestForwardTSOWhenPrimaryChanged07
cleanup tso server1
close addr http://127.0.0.1:43074
close tso server1
close tso server2
[2023/03/17 15:44:49.908 +08:00] [INFO] [server.go:297] ["closing tso server ..."]
[2023/03/17 15:44:49.908 +08:00] [INFO] [register.go:78] ["exit register process"] [key=/pd/microservice/tso/registry/http:/127.0.0.1:43074]
close tso server3
close tso server4
close tso server5
[2023/03/17 15:44:49.908 +08:00] [INFO] [server.go:186] ["tso server is closed, exit allocator loop"]
[2023/03/17 15:44:49.908 +08:00] [INFO] [server.go:282] ["server is closed"]
[2023/03/17 15:44:49.908 +08:00] [INFO] [tso.go:374] ["reset the timestamp in memory"]
[2023/03/17 15:44:49.908 +08:00] [INFO] [lease.go:162] ["stop lease keep alive worker"] [purpose="keyspace group primary election"]
[2023/03/17 15:44:49.909 +08:00] [WARN] [util.go:121] ["failed to apply request"] [took=63.653Âµs] [request="header:<ID:16942127207240616833 > lease_revoke:<id:6b1e86ee870ecb6f>"] [response=size:27] [error="lease not found"]
[2023/03/17 15:44:49.909 +08:00] [WARN] [retry_interceptor.go:62] ["retrying of unary invoker failed"] [target=endpoint://client-c678f2e1-e6aa-4331-b8b0-e8f3edaa2e54/127.0.0.1:44846] [attempt=0] [error="rpc error: code = NotFound desc = etcdserver: requested lease not found"]
[2023/03/17 15:44:49.909 +08:00] [INFO] [server.go:195] ["server is closed, exit tso primary election loop"]
[2023/03/17 15:44:50.822 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:52.002 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:56.997 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:44:57.990 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:45:05.443 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:45:06.394 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:45:19.370 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
[2023/03/17 15:45:22.592 +08:00] [WARN] [grpclog.go:60] ["grpc: addrConn.createTransport failed to connect to {127.0.0.1:42058  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial tcp 127.0.0.1:42058: connect: connection refused\". Reconnecting..."]
panic: test timed out after 1m0s
running tests:
	TestAPIServerForwardTestSuite (1m0s)
	TestAPIServerForwardTestSuite/TestForwardTSOWhenPrimaryChanged (1m0s)

goroutine 1631 [running]:
testing.(*M).startAlarm.func1()
	/usr/local/go/src/testing/testing.go:2241 +0x3b9
created by time.goFunc
	/usr/local/go/src/time/sleep.go:176 +0x32

goroutine 1 [chan receive, 1 minutes]:
testing.(*T).Run(0xc000682ea0, {0x2e4cc7b?, 0xfdff45?}, 0x38d8558)
	/usr/local/go/src/testing/testing.go:1630 +0x405
testing.runTests.func1(0x4d6dc20?)
	/usr/local/go/src/testing/testing.go:2036 +0x45
testing.tRunner(0xc000682ea0, 0xc000535bf8)
	/usr/local/go/src/testing/testing.go:1576 +0x10b
testing.runTests(0xc000b9a000?, {0x4c84aa0, 0x4, 0x4}, {0x0?, 0xc0008fa1d8?, 0x4d6b480?})
	/usr/local/go/src/testing/testing.go:2034 +0x489
testing.(*M).Run(0xc000b9a000)
	/usr/local/go/src/testing/testing.go:1906 +0x63a
go.uber.org/goleak.VerifyTestMain({0x3bcb4a0?, 0xc000b9a000?}, {0x4d6cf00, 0x8, 0x8})
	/data2/lhy1024/.go/pkg/mod/go.uber.org/goleak@v1.1.12/testmain.go:53 +0x3a
github.com/tikv/pd/tests/mcs/tso.TestMain(...)
	/home/lhy1024/pd/tests/mcs/tso/server_test.go:45
main.main()
	_testmain.go:55 +0x1f3

goroutine 499 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch(0xc000940a50, {0x3bed868?, 0xc00057e550})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:218 +0x3ba
go.etcd.io/etcd/etcdserver/etcdserverpb._Watch_Watch_Handler({0x2ae2880?, 0xc000940a50}, {0x3be8a48?, 0xc001bd0480})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3726 +0x9f
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2ae2880?, 0xc000940a50?}, {0x3be8a48?, 0xc001bd0480?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:71 +0x89
github.com/grpc-ecosystem/go-grpc-prometheus.(*ServerMetrics).StreamServerInterceptor.func1({0x2ae2880, 0xc000940a50}, {0x3be9540?, 0xc002304180}, 0xc0006faf00?, 0xc0004be960)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:121 +0x109
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2ae2880?, 0xc000940a50?}, {0x3be9540?, 0xc002304180?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:74 +0x6f
go.etcd.io/etcd/etcdserver/api/v3rpc.newStreamInterceptor.func1({0x2ae2880, 0xc000940a50}, {0x3be9540, 0xc002304180}, 0xc00047a000?, 0xc0004be960)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:237 +0x483
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1({0x2ae2880, 0xc000940a50}, {0x3be9540, 0xc002304180}, 0xc001bd0468, 0x38d9060)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:79 +0x1a3
google.golang.org/grpc.(*Server).processStreamingRPC(0xc002212000, {0x3bf00a0, 0xc001bfa000}, 0xc00021f200, 0xc00094e870, 0x4c78720, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1244 +0xdc6
google.golang.org/grpc.(*Server).handleStream(0xc002212000, {0x3bf00a0, 0xc001bfa000}, 0xc00021f200, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1317 +0x9de
google.golang.org/grpc.(*Server).serveStreams.func1.1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:722 +0x98
created by google.golang.org/grpc.(*Server).serveStreams.func1
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:720 +0xea

goroutine 137 [chan receive]:
go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc0006974a0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:173 +0x8c
created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:91 +0xb6

goroutine 182 [chan receive]:
go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc00059b050)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:173 +0x8c
created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:91 +0xb6

goroutine 185 [chan receive]:
go.etcd.io/etcd/pkg/logutil.(*MergeLogger).outputLoop(0xc00059b188)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:173 +0x8c
created by go.etcd.io/etcd/pkg/logutil.NewMergeLogger
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/logutil/merge_logger.go:91 +0xb6

goroutine 466 [select]:
github.com/tikv/pd/pkg/schedule/hbstream.(*HeartbeatStreams).run(0xc001bcf0e0)
	/home/lhy1024/pd/pkg/schedule/hbstream/heartbeat_streams.go:102 +0x23b
created by github.com/tikv/pd/pkg/schedule/hbstream.newHbStreams
	/home/lhy1024/pd/pkg/schedule/hbstream/heartbeat_streams.go:86 +0x1c5

goroutine 326 [chan receive, 1 minutes]:
testing.(*T).Run(0xc000683040, {0x2981957?, 0xc000683040?}, 0xc00051e2d0)
	/usr/local/go/src/testing/testing.go:1630 +0x405
github.com/stretchr/testify/suite.runTests({0x3bf9d90, 0xc000683040}, {0xc00059a120?, 0x1, 0x1})
	/data2/lhy1024/.go/pkg/mod/github.com/stretchr/testify@v1.8.1/suite/suite.go:220 +0x112
github.com/stretchr/testify/suite.Run(0xc000683040, {0x3bd06d0, 0xc000ba2500})
	/data2/lhy1024/.go/pkg/mod/github.com/stretchr/testify@v1.8.1/suite/suite.go:193 +0x6de
github.com/tikv/pd/tests/mcs/tso.TestAPIServerForwardTestSuite(0x0?)
	/home/lhy1024/pd/tests/mcs/tso/server_test.go:190 +0x39
testing.tRunner(0xc000683040, 0x38d8558)
	/usr/local/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1629 +0x3ea

goroutine 327 [semacquire]:
sync.runtime_Semacquire(0xc0033de000?)
	/usr/local/go/src/runtime/sema.go:62 +0x27
sync.(*WaitGroup).Wait(0x3bcb2a0?)
	/usr/local/go/src/sync/waitgroup.go:116 +0x4b
github.com/tikv/pd/pkg/mcs/tso/server.(*Server).Close(0xc002f74840)
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:306 +0x29d
github.com/tikv/pd/pkg/mcs/tso/server.NewTSOTestServer.func1()
	/home/lhy1024/pd/pkg/mcs/tso/server/testutil.go:45 +0x72
github.com/tikv/pd/tests/mcs/tso.(*APIServerForwardTestSuite).TestForwardTSOWhenPrimaryChanged(0xc000ba2500)
	/home/lhy1024/pd/tests/mcs/tso/server_test.go:287 +0x8c5
reflect.Value.call({0xc000a02780?, 0xc0006d3e30?, 0x0?}, {0x2e0810e, 0x4}, {0xc002149e70, 0x1, 0xc002149d80?})
	/usr/local/go/src/reflect/value.go:586 +0xb07
reflect.Value.Call({0xc000a02780?, 0xc0006d3e30?, 0xc000ba2500?}, {0xc002149e70?, 0x46b53b0?, 0x3cc7c96?})
	/usr/local/go/src/reflect/value.go:370 +0xbc
github.com/stretchr/testify/suite.Run.func1(0xc000683860)
	/data2/lhy1024/.go/pkg/mod/github.com/stretchr/testify@v1.8.1/suite/suite.go:175 +0x4b6
testing.tRunner(0xc000683860, 0xc00051e2d0)
	/usr/local/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1629 +0x3ea

goroutine 338 [select]:
github.com/tikv/pd/pkg/systimemon.StartMonitor({0x3be0b70, 0xc00012aa50}, 0x38db2c8, 0x38d8450)
	/home/lhy1024/pd/pkg/systimemon/systimemon.go:35 +0x17b
created by github.com/tikv/pd/server.(*Server).Run
	/home/lhy1024/pd/server/server.go:500 +0x85

goroutine 341 [select]:
go.etcd.io/etcd/wal.(*filePipeline).run(0xc000283200)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/wal/file_pipeline.go:98 +0xfe
created by go.etcd.io/etcd/wal.newFilePipeline
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/wal/file_pipeline.go:52 +0x165

goroutine 340 [select]:
go.etcd.io/etcd/mvcc/backend.(*backend).run(0xc001a7c400)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/backend/backend.go:329 +0x105
created by go.etcd.io/etcd/mvcc/backend.newBackend
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/backend/backend.go:191 +0x5f6

goroutine 342 [select]:
go.etcd.io/etcd/raft.(*node).run(0xc001999aa0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/raft/node.go:339 +0x7ca
created by go.etcd.io/etcd/raft.StartNode
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/raft/node.go:228 +0x28a

goroutine 335 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f2c8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc000950580?, 0xc001bf0000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000950580, {0xc001bf0000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc000950580, {0xc001bf0000?, 0xc002150700?, 0x1?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000936110, {0xc001bf0000?, 0xc00423cd00?, 0x3?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc0008b0080, {0xc001bf0000, 0xc0049563c0?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x0?, {0xc001bf0000?, 0xc0000edcf8?, 0xc0000edd30?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc001bcf080, {0xc000bb4660, 0x9, 0x7fc5043bb568?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc001bcf080}, {0xc000bb4660, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc000bb4660?, 0x9?, 0xc0005bb9c0?}, {0x3bc6b00?, 0xc001bcf080?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc000bb4620)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc001bfa000, 0x0?, 0x0?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc002212000, {0x3bf00a0?, 0xc001bfa000})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5

goroutine 344 [select]:
go.etcd.io/etcd/lease.(*lessor).runLoop(0xc0017b98c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/lease/lessor.go:620 +0xcc
created by go.etcd.io/etcd/lease.newLessor
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/lease/lessor.go:238 +0x36e

goroutine 330 [select]:
go.etcd.io/etcd/pkg/fileutil.purgeFile.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:90 +0x265
created by go.etcd.io/etcd/pkg/fileutil.purgeFile
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:41 +0x177

goroutine 346 [select]:
go.etcd.io/etcd/pkg/schedule.(*fifo).run(0xc001999e00)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/schedule/schedule.go:143 +0x212
created by go.etcd.io/etcd/pkg/schedule.NewFIFOScheduler
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/schedule/schedule.go:70 +0x165

goroutine 329 [select]:
go.etcd.io/etcd/pkg/fileutil.purgeFile.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:90 +0x265
created by go.etcd.io/etcd/pkg/fileutil.purgeFile
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:41 +0x177

goroutine 349 [select]:
go.etcd.io/etcd/mvcc.(*watchableStore).syncWatchersLoop(0xc0019ebb80)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/watchable_store.go:234 +0x1a5
created by go.etcd.io/etcd/mvcc.newWatchableStore
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/watchable_store.go:95 +0x4d6

goroutine 350 [select]:
go.etcd.io/etcd/mvcc.(*watchableStore).syncVictimsLoop(0xc0019ebb80)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/watchable_store.go:260 +0x165
created by go.etcd.io/etcd/mvcc.newWatchableStore
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/mvcc/watchable_store.go:96 +0x516

goroutine 351 [select]:
go.etcd.io/etcd/etcdserver/api/v3compactor.(*Periodic).Run.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3compactor/periodic.go:112 +0x213
created by go.etcd.io/etcd/etcdserver/api/v3compactor.(*Periodic).Run
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3compactor/periodic.go:103 +0xe7

goroutine 328 [select]:
go.etcd.io/etcd/pkg/fileutil.purgeFile.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:90 +0x265
created by go.etcd.io/etcd/pkg/fileutil.purgeFile
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/fileutil/purge.go:41 +0x177

goroutine 353 [select]:
go.etcd.io/etcd/etcdserver.(*EtcdServer).run(0xc000a7b800)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:1070 +0x847
created by go.etcd.io/etcd/etcdserver.(*EtcdServer).start
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:829 +0x10cf

goroutine 315 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.monitorLeader.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:301 +0xbd
created by go.etcd.io/etcd/etcdserver/api/v3rpc.monitorLeader
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:296 +0xb1

goroutine 356 [select]:
go.etcd.io/etcd/etcdserver.(*EtcdServer).purgeFile(0xc000a7b800)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:844 +0x3c5
go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2698 +0x64
created by go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2696 +0x1a5

goroutine 357 [select]:
go.etcd.io/etcd/etcdserver.monitorFileDescriptor(0xc0004daf60, 0xc0002abe60)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/metrics.go:237 +0x3ed
go.etcd.io/etcd/etcdserver.(*EtcdServer).Start.func3()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:757 +0x36
go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2698 +0x64
created by go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2696 +0x1a5

goroutine 358 [select]:
go.etcd.io/etcd/etcdserver.(*EtcdServer).monitorVersions(0xc000a7b800)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2522 +0xb6
go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2698 +0x64
created by go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2696 +0x1a5

goroutine 359 [select]:
go.etcd.io/etcd/etcdserver.(*EtcdServer).linearizableReadLoop(0xc000a7b800)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/v3_server.go:703 +0xd4
go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2698 +0x64
created by go.etcd.io/etcd/etcdserver.(*EtcdServer).goAttach
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/server.go:2696 +0x1a5

goroutine 746 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 361 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.monitorLeader.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:301 +0xbd
created by go.etcd.io/etcd/etcdserver/api/v3rpc.monitorLeader
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:296 +0xb1

goroutine 65 [select]:
go.etcd.io/etcd/pkg/schedule.(*fifo).run(0xc0005460c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/schedule/schedule.go:143 +0x212
created by go.etcd.io/etcd/pkg/schedule.NewFIFOScheduler
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/schedule/schedule.go:70 +0x165

goroutine 370 [select]:
go.etcd.io/etcd/etcdserver.(*raftNode).start.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/raft.go:170 +0x177
created by go.etcd.io/etcd/etcdserver.(*raftNode).start
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/raft.go:165 +0x7a

goroutine 362 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
google.golang.org/grpc.(*Server).Serve(0xc0019b6f00, {0x3bdf820, 0xc0021b7170})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:597 +0x362
created by go.etcd.io/etcd/embed.(*Etcd).servePeers
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:551 +0x391

goroutine 363 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
net/http.(*Server).Serve(0xc000130870, {0x3bdf820, 0xc0021b7188})
	/usr/local/go/src/net/http/server.go:3059 +0x385
created by go.etcd.io/etcd/embed.(*Etcd).servePeers
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:557 +0x5aa

goroutine 364 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f688, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc001a7c280?, 0x4?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0xc001a7c280)
	/usr/local/go/src/internal/poll/fd_unix.go:614 +0x2bd
net.(*netFD).accept(0xc001a7c280)
	/usr/local/go/src/net/fd_unix.go:172 +0x35
net.(*TCPListener).accept(0xc0019dac00)
	/usr/local/go/src/net/tcpsock_posix.go:148 +0x25
net.(*TCPListener).Accept(0xc0019dac00)
	/usr/local/go/src/net/tcpsock.go:297 +0x3d
go.etcd.io/etcd/pkg/transport.(*rwTimeoutListener).Accept(0xc0019f9a40)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/transport/timeout_listener.go:48 +0x2d
github.com/soheilhy/cmux.(*cMux).Serve(0xc001c2c0f0)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:162 +0xa9
go.etcd.io/etcd/embed.(*Etcd).servePeers.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:558 +0x22
go.etcd.io/etcd/embed.(*Etcd).servePeers.func3(0xc0019f9a20)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:592 +0x1fb
created by go.etcd.io/etcd/embed.(*Etcd).servePeers
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:582 +0x727

goroutine 368 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f598, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc001a7c300?, 0xc00210d2b8?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0xc001a7c300)
	/usr/local/go/src/internal/poll/fd_unix.go:614 +0x2bd
net.(*netFD).accept(0xc001a7c300)
	/usr/local/go/src/net/fd_unix.go:172 +0x35
net.(*TCPListener).accept(0xc0019dac48)
	/usr/local/go/src/net/tcpsock_posix.go:148 +0x25
net.(*TCPListener).Accept(0xc0019dac48)
	/usr/local/go/src/net/tcpsock.go:297 +0x3d
go.etcd.io/etcd/pkg/transport.(*limitListener).Accept(0xc0019dac60)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/transport/limit_listen.go:46 +0x42
go.etcd.io/etcd/pkg/transport.(*keepaliveListener).Accept(0x40?)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/pkg/transport/keepalive_listener.go:49 +0x25
github.com/soheilhy/cmux.(*cMux).Serve(0xc0009408c0)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:162 +0xa9
go.etcd.io/etcd/embed.(*serveCtx).serve(0xc00088df80, 0xc000a7b800, 0xc001993850, {0x3bcd580, 0xc0021b1740}, 0xc0005bb0a0, {0xc0021b1760, 0x2, 0x2})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:211 +0x1476
go.etcd.io/etcd/embed.(*Etcd).serveClients.func1(0xc0021c9800?)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:760 +0xb8
created by go.etcd.io/etcd/embed.(*Etcd).serveClients
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/etcd.go:759 +0x95a

goroutine 391 [select]:
go.etcd.io/etcd/clientv3.(*Client).autoSync(0xc001c30ea0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:191 +0xc5
created by go.etcd.io/etcd/clientv3.newClient
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:499 +0xe32

goroutine 372 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc0005544b0, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0005469c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 389 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc0021ce640)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 334 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc001bfa000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 390 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc001a44580)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 333 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc0004be5a0, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0021e6780)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 403 [select]:
google.golang.org/grpc/internal/transport.(*http2Client).keepalive(0xc0003c0a80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1330 +0x15f
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:295 +0x13dc

goroutine 404 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f3b8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc00208c080?, 0xc0020a0000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc00208c080, {0xc0020a0000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc00208c080, {0xc0020a0000?, 0x1060100000000?, 0x8?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc002000010, {0xc0020a0000?, 0x1000000000028?, 0x7fc5043b3970?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc0006fa240, {0xc0020b8040, 0x9, 0x7fc53012df18?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc0006fa240}, {0xc0020b8040, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc0020b8040?, 0x9?, 0xdc5d8b583?}, {0x3bc6b00?, 0xc0006fa240?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc0020b8000)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc0003c0a80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 405 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc0006fe190, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0006fa3c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 316 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
google.golang.org/grpc.(*Server).Serve(0xc002212000, {0x3bdf820, 0xc00093a468})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:597 +0x362
go.etcd.io/etcd/embed.(*serveCtx).serve.func2()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:120 +0x31
created by go.etcd.io/etcd/embed.(*serveCtx).serve
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:120 +0x51e

goroutine 317 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc002221400)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 318 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc00222a000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 319 [chan receive]:
go.etcd.io/etcd/embed.(*serveCtx).registerGateway.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:275 +0x50
created by go.etcd.io/etcd/embed.(*serveCtx).registerGateway
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:274 +0x454

goroutine 320 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
net/http.(*Server).Serve(0xc0004602d0, {0x3bdf820, 0xc00093a4b0})
	/usr/local/go/src/net/http/server.go:3059 +0x385
go.etcd.io/etcd/embed.(*serveCtx).serve.func3()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:141 +0x2e
created by go.etcd.io/etcd/embed.(*serveCtx).serve
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/embed/serve.go:141 +0x97e

goroutine 371 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f4a8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc00208c200?, 0xc00212c000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc00208c200, {0xc00212c000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc00208c200, {0xc00212c000?, 0x1040100000000?, 0x0?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc00057a070, {0xc00212c000?, 0x18?, 0x0?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc000546900, {0xc002116200, 0x9, 0x30?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc000546900}, {0xc002116200, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc002116200?, 0x9?, 0xc000bd0000?}, {0x3bc6b00?, 0xc000546900?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc0021161c0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc002144000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 336 [select]:
context.propagateCancel.func1()
	/usr/local/go/src/context/context.go:333 +0xa5
created by context.propagateCancel
	/usr/local/go/src/context/context.go:332 +0x1bc

goroutine 854 [select]:
github.com/tikv/pd/client.(*tsoServiceDiscovery).startCheckMemberLoop(0xc000763520)
	/home/lhy1024/pd/client/tso_service_discovery.go:136 +0x135
created by github.com/tikv/pd/client.(*tsoServiceDiscovery).Init
	/home/lhy1024/pd/client/tso_service_discovery.go:110 +0x98

goroutine 408 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc0006fe3c0, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0007042a0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 409 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc0020de000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 410 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f1d8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc000950600?, 0xc0020c6000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000950600, {0xc0020c6000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc000950600, {0xc0020c6000?, 0x8000?, 0x8000?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000936118, {0xc0020c6000?, 0x0?, 0x0?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc0008a8400, {0xc0020c6000, 0x0?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x2010401?, {0xc0020c6000?, 0xea67c8?, 0x2010401?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc0006fa5a0, {0xc0020b8120, 0x9, 0x30?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc0006fa5a0}, {0xc0020b8120, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc0020b8120?, 0x9?, 0xc0021decf0?}, {0x3bc6b00?, 0xc0006fa5a0?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc0020b80e0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc0020de000, 0x0?, 0x0?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc002212000, {0x3bf00a0?, 0xc0020de000})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5

goroutine 436 [select]:
github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc0023061c0)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/util/buffer_pool.go:206 +0xc7
created by github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/util/buffer_pool.go:237 +0x18c

goroutine 896 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc00208bf40)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 394 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc000bfc340)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:90 +0x137
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:142 +0x4ea

goroutine 437 [select]:
github.com/syndtr/goleveldb/leveldb.(*session).refLoop(0xc0023101e0)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session_util.go:189 +0x59b
created by github.com/syndtr/goleveldb/leveldb.newSession
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:93 +0x2e5

goroutine 395 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc000bfc340)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_state.go:101 +0xa8
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:143 +0x52a

goroutine 396 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc000bfc340)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:825 +0x6b7
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:149 +0x59b

goroutine 397 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc000bfc340)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:762 +0x113
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:150 +0x5d8

goroutine 398 [select]:
github.com/tikv/pd/pkg/storage.(*levelDBBackend).backgroundFlush(0xc00230a100)
	/home/lhy1024/pd/pkg/storage/leveldb_backend.go:90 +0xe8
created by github.com/tikv/pd/pkg/storage.newLevelDBBackend
	/home/lhy1024/pd/pkg/storage/leveldb_backend.go:76 +0x24a

goroutine 467 [select]:
github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc0023060e0)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/util/buffer_pool.go:206 +0xc7
created by github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/util/buffer_pool.go:237 +0x18c

goroutine 468 [select]:
github.com/syndtr/goleveldb/leveldb.(*session).refLoop(0xc0000390e0)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session_util.go:189 +0x59b
created by github.com/syndtr/goleveldb/leveldb.newSession
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/session.go:93 +0x2e5

goroutine 469 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc001c31380)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:90 +0x137
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:142 +0x4ea

goroutine 470 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc001c31380)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_state.go:101 +0xa8
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:143 +0x52a

goroutine 471 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc001c31380)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:825 +0x6b7
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:149 +0x59b

goroutine 472 [select]:
github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc001c31380)
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db_compaction.go:762 +0x113
created by github.com/syndtr/goleveldb/leveldb.openDB
	/data2/lhy1024/.go/pkg/mod/github.com/syndtr/goleveldb@v1.0.1-0.20190318030020-c3a204f8e965/leveldb/db.go:150 +0x5d8

goroutine 473 [select]:
github.com/tikv/pd/pkg/storage.(*HotRegionStorage).backgroundFlush(0xc001daa400)
	/home/lhy1024/pd/pkg/storage/hot_region_storage.go:208 +0xfa
created by github.com/tikv/pd/pkg/storage.NewHotRegionsStorage
	/home/lhy1024/pd/pkg/storage/hot_region_storage.go:158 +0x225

goroutine 474 [select]:
github.com/tikv/pd/pkg/storage.(*HotRegionStorage).backgroundDelete(0xc001daa400)
	/home/lhy1024/pd/pkg/storage/hot_region_storage.go:179 +0x1e5
created by github.com/tikv/pd/pkg/storage.NewHotRegionsStorage
	/home/lhy1024/pd/pkg/storage/hot_region_storage.go:159 +0x265

goroutine 475 [select]:
github.com/tikv/pd/pkg/dashboard/adapter.(*Manager).serviceLoop(0xc0019990e0)
	/home/lhy1024/pd/pkg/dashboard/adapter/manager.go:83 +0x136
created by github.com/tikv/pd/pkg/dashboard/adapter.(*Manager).Start
	/home/lhy1024/pd/pkg/dashboard/adapter/manager.go:65 +0xe5

goroutine 476 [select]:
github.com/tikv/pd/server.(*Server).campaignLeader(0xc0018be240)
	/home/lhy1024/pd/server/server.go:1531 +0x176d
github.com/tikv/pd/server.(*Server).leaderLoop(0xc0018be240)
	/home/lhy1024/pd/server/server.go:1429 +0x5d5
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:539 +0xb9

goroutine 477 [select]:
github.com/tikv/pd/server.(*Server).etcdLeaderLoop(0xc0018be240)
	/home/lhy1024/pd/server/server.go:1557 +0x138
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:540 +0xf6

goroutine 478 [select]:
github.com/tikv/pd/server.(*Server).serverMetricsLoop(0xc0018be240)
	/home/lhy1024/pd/server/server.go:565 +0x11e
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:541 +0x136

goroutine 479 [select]:
github.com/tikv/pd/pkg/encryption.(*Manager).StartBackgroundLoop(0xc00230a180, {0x3be0b70, 0xc0006fe050})
	/home/lhy1024/pd/pkg/encryption/key_manager.go:234 +0x7e5
github.com/tikv/pd/server.(*Server).encryptionKeyManagerLoop(0xc0018be240)
	/home/lhy1024/pd/server/server.go:593 +0xa5
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:542 +0x176

goroutine 480 [select]:
github.com/tikv/pd/server.(*Server).watchServicePrimaryAddrLoop(0xc0018be240, {0x2e07bee, 0x3})
	/home/lhy1024/pd/server/server.go:1729 +0x6f1
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:545 +0x20b

goroutine 481 [select]:
github.com/tikv/pd/server.(*Server).watchServicePrimaryAddrLoop(0xc0018be240, {0x2e27996, 0x10})
	/home/lhy1024/pd/server/server.go:1729 +0x6f1
created by github.com/tikv/pd/server.(*Server).startServerLoop
	/home/lhy1024/pd/server/server.go:546 +0x24a

goroutine 337 [select]:
go.etcd.io/etcd/clientv3.(*watchGrpcStream).run(0xc002102000)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:530 +0x354
created by go.etcd.io/etcd/clientv3.(*watcher).newWatcherGrpcStream
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:283 +0x34d

goroutine 483 [select]:
google.golang.org/grpc.newClientStream.func5()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:319 +0x92
created by google.golang.org/grpc.newClientStream
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:318 +0x1465

goroutine 484 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).readClient(0xc0006fe4b0, {0xc00055a148, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:186 +0xa5
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc0006fe4b0, {0xc00055a148?, 0xc000558090?, 0xc000bcba60?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:166 +0x147
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc001faa270, {0xc00055a148?, 0xc000bcbad8?, 0x1504507?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc001faa270}, {0xc00055a148, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc000652500, {0xc00055a148, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc00055a138, 0x7fffffff)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0xc000bcbca0?, 0xc000652500, {0x0, 0x0}, 0x7fffffff, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0x0?, {0x7fc504223510, 0x4da8510}, 0x0?, {0x0?, 0x0?}, {0x2d4d5a0, 0xc000bc4460}, 0x0?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*csAttempt).recvMsg(0xc001fac080, {0x2d4d5a0?, 0xc000bc4460}, 0xc000bcbf00?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:885 +0x2ba
google.golang.org/grpc.(*clientStream).RecvMsg.func1(0xc001da4780?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:736 +0x25
google.golang.org/grpc.(*clientStream).withRetry(0xc002100240, 0xc000bcbeb0, 0xc000bcbe80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:590 +0x2f1
google.golang.org/grpc.(*clientStream).RecvMsg(0xc002100240, {0x2d4d5a0?, 0xc000bc4460?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:735 +0x11f
go.etcd.io/etcd/etcdserver/etcdserverpb.(*watchWatchClient).Recv(0xc002086170)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3704 +0x4c
go.etcd.io/etcd/clientv3.(*watchGrpcStream).serveWatchClient(0xc002102000, {0x3bed810, 0xc002086170})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:764 +0x6a
created by go.etcd.io/etcd/clientv3.(*watchGrpcStream).newWatchClient
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:919 +0x5eb

goroutine 451 [select]:
github.com/tikv/pd/pkg/systimemon.StartMonitor({0x3be0b70, 0xc00012aa50}, 0x38db2c8, 0x38d81d0)
	/home/lhy1024/pd/pkg/systimemon/systimemon.go:35 +0x17b
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).Run
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:154 +0x85

goroutine 485 [select]:
go.etcd.io/etcd/clientv3.(*watchGrpcStream).serveSubstream(0xc002102000, 0xc0023964d0, 0xc002098900)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:810 +0x265
created by go.etcd.io/etcd/clientv3.(*watchGrpcStream).run
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:547 +0xc8c

goroutine 536 [select]:
google.golang.org/grpc.newClientStream.func5()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:319 +0x92
created by google.golang.org/grpc.newClientStream
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:318 +0x1465

goroutine 486 [select]:
context.propagateCancel.func1()
	/usr/local/go/src/context/context.go:333 +0xa5
created by context.propagateCancel
	/usr/local/go/src/context/context.go:332 +0x1bc

goroutine 86 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch(0xc000940a50, {0x3bed868?, 0xc0021e84d0})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:218 +0x3ba
go.etcd.io/etcd/etcdserver/etcdserverpb._Watch_Watch_Handler({0x2ae2880?, 0xc000940a50}, {0x3be8a48?, 0xc0005fe3a8})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3726 +0x9f
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2ae2880?, 0xc000940a50?}, {0x3be8a48?, 0xc0005fe3a8?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:71 +0x89
github.com/grpc-ecosystem/go-grpc-prometheus.(*ServerMetrics).StreamServerInterceptor.func1({0x2ae2880, 0xc000940a50}, {0x3be9540?, 0xc000c0a0c0}, 0xc0006faf00?, 0xc0024128c0)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:121 +0x109
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2ae2880?, 0xc000940a50?}, {0x3be9540?, 0xc000c0a0c0?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:74 +0x6f
go.etcd.io/etcd/etcdserver/api/v3rpc.newStreamInterceptor.func1({0x2ae2880, 0xc000940a50}, {0x3be9540, 0xc000c0a0c0}, 0xc000512800?, 0xc0024128c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:237 +0x483
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1({0x2ae2880, 0xc000940a50}, {0x3be9540, 0xc000c0a0c0}, 0xc0005fe378, 0x38d9060)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:79 +0x1a3
google.golang.org/grpc.(*Server).processStreamingRPC(0xc002212000, {0x3bf00a0, 0xc001bfa000}, 0xc000716700, 0xc00094e870, 0x4c78720, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1244 +0xdc6
google.golang.org/grpc.(*Server).handleStream(0xc002212000, {0x3bf00a0, 0xc001bfa000}, 0xc000716700, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1317 +0x9de
google.golang.org/grpc.(*Server).serveStreams.func1.1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:722 +0x98
created by google.golang.org/grpc.(*Server).serveStreams.func1
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:720 +0xea

goroutine 87 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.(*serverWatchStream).sendLoop(0xc000c0a180)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:387 +0x246
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:180 +0x25
created by go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:179 +0x294

goroutine 88 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).read(0xc002412870, {0xc0005fe370, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:174 +0x90
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc002412870, {0xc0005fe370?, 0xc0007140d8?, 0xc0000e88a0?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:168 +0x178
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc0023bab10, {0xc0005fe370?, 0xc0000e8918?, 0x150fa67?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc0023bab10}, {0xc0005fe370, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc000716700, {0xc0005fe370, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc0005fe360, 0x9680000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0x0?, 0xc000716700, {0x0, 0x0}, 0x9680000, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0xeaf470?, {0x7fc5042207b0, 0x4da8510}, 0x2c55e60?, {0x0?, 0x0?}, {0x2d1b740, 0xc0021e8520}, 0xc0000e8dd0?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*serverStream).RecvMsg(0xc000c0a0c0, {0x2d1b740?, 0xc0021e8520})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:1474 +0x178
github.com/grpc-ecosystem/go-grpc-prometheus.(*monitoredServerStream).RecvMsg(0xc0005fe3a8, {0x2d1b740?, 0xc0021e8520?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:164 +0x33
go.etcd.io/etcd/etcdserver/etcdserverpb.(*watchWatchServer).Recv(0xc0021e84d0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3745 +0x4c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*serverWatchStream).recvLoop(0xc000c0a180)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:249 +0x4c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch.func2()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:190 +0x52
created by go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:189 +0x338

goroutine 487 [select]:
go.etcd.io/etcd/clientv3.(*watchGrpcStream).run(0xc0021029c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:530 +0x354
created by go.etcd.io/etcd/clientv3.(*watcher).newWatcherGrpcStream
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:283 +0x34d

goroutine 490 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).readClient(0xc0006fedc0, {0xc00055a4d8, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:186 +0xa5
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc0006fedc0, {0xc00055a4d8?, 0xc000558120?, 0xc00235fa60?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:166 +0x147
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc001faabd0, {0xc00055a4d8?, 0xc00235fad8?, 0x1504507?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc001faabd0}, {0xc00055a4d8, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc000652900, {0xc00055a4d8, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc00055a4c8, 0x7fffffff)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0xc00235fca0?, 0xc000652900, {0x0, 0x0}, 0x7fffffff, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0x0?, {0x7fc504223510, 0x4da8510}, 0x0?, {0x0?, 0x0?}, {0x2d4d5a0, 0xc003d1be50}, 0x0?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*csAttempt).recvMsg(0xc001fac380, {0x2d4d5a0?, 0xc003d1be50}, 0xc00235ff00?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:885 +0x2ba
google.golang.org/grpc.(*clientStream).RecvMsg.func1(0xc0005466c0?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:736 +0x25
google.golang.org/grpc.(*clientStream).withRetry(0xc0021006c0, 0xc00235feb0, 0xc00235fe80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:590 +0x2f1
google.golang.org/grpc.(*clientStream).RecvMsg(0xc0021006c0, {0x2d4d5a0?, 0xc003d1be50?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:735 +0x11f
go.etcd.io/etcd/etcdserver/etcdserverpb.(*watchWatchClient).Recv(0xc0020863e0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3704 +0x4c
go.etcd.io/etcd/clientv3.(*watchGrpcStream).serveWatchClient(0xc0021029c0, {0x3bed810, 0xc0020863e0})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:764 +0x6a
created by go.etcd.io/etcd/clientv3.(*watchGrpcStream).newWatchClient
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:919 +0x5eb

goroutine 489 [select]:
google.golang.org/grpc.newClientStream.func5()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:319 +0x92
created by google.golang.org/grpc.newClientStream
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:318 +0x1465

goroutine 491 [select]:
go.etcd.io/etcd/clientv3.(*watchGrpcStream).serveSubstream(0xc0021029c0, 0xc002396580, 0xc0020990e0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:810 +0x265
created by go.etcd.io/etcd/clientv3.(*watchGrpcStream).run
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:547 +0xc8c

goroutine 492 [select]:
go.etcd.io/etcd/clientv3.(*watchGrpcStream).serveSubstream(0xc0021029c0, 0xc002396630, 0xc0020990e0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:810 +0x265
created by go.etcd.io/etcd/clientv3.(*watchGrpcStream).run
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/watch.go:547 +0xc8c

goroutine 500 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.(*serverWatchStream).sendLoop(0xc002304240)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:387 +0x246
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:180 +0x25
created by go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:179 +0x294

goroutine 501 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).read(0xc0004be910, {0xc001bd0460, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:174 +0x90
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc0004be910, {0xc001bd0460?, 0xc0009540d8?, 0xc0009338a0?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:168 +0x178
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc001da94a0, {0xc001bd0460?, 0xc000933918?, 0x150fa67?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc001da94a0}, {0xc001bd0460, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc00021f200, {0xc001bd0460, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc001bd0450, 0x9680000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0x155?, 0xc00021f200, {0x0, 0x0}, 0x9680000, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0xeaf470?, {0x7fc5042207b0, 0x4da8510}, 0x18?, {0x0?, 0x0?}, {0x2d1b740, 0xc0021e86b0}, 0xc000933dd0?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*serverStream).RecvMsg(0xc002304180, {0x2d1b740?, 0xc0021e86b0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:1474 +0x178
github.com/grpc-ecosystem/go-grpc-prometheus.(*monitoredServerStream).RecvMsg(0xc001bd0480, {0x2d1b740?, 0xc0021e86b0?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:164 +0x33
go.etcd.io/etcd/etcdserver/etcdserverpb.(*watchWatchServer).Recv(0xc00057e550)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3745 +0x4c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*serverWatchStream).recvLoop(0xc002304240)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:249 +0x4c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch.func2()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:190 +0x52
created by go.etcd.io/etcd/etcdserver/api/v3rpc.(*watchServer).Watch
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/watch.go:189 +0x338

goroutine 89 [select]:
github.com/tikv/pd/pkg/election.(*lease).keepAliveWorker.func1()
	/home/lhy1024/pd/pkg/election/lease.go:160 +0x44d
created by github.com/tikv/pd/pkg/election.(*lease).keepAliveWorker
	/home/lhy1024/pd/pkg/election/lease.go:132 +0xcc

goroutine 375 [select]:
github.com/tikv/pd/pkg/election.(*lease).KeepAlive(0xc002412b40, {0x3be0b70?, 0xc00070caa0?})
	/home/lhy1024/pd/pkg/election/lease.go:107 +0x1a6
created by github.com/tikv/pd/pkg/election.(*Leadership).Keep
	/home/lhy1024/pd/pkg/election/leadership.go:141 +0x14b

goroutine 380 [select]:
github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Manager).backgroundMetricsFlush(0xc0019991a0, {0x3be0b70, 0xc00070ca50})
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/manager.go:261 +0x158
created by github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Manager).Init
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/manager.go:125 +0x179

goroutine 378 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc002220cc0)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 96 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc001fa15c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 426 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc002413a90, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0004da060)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 381 [select]:
github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Manager).persistLoop(0x8000016d?, {0x3be0b70, 0xc00070ca50})
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/manager.go:229 +0xea
github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Manager).Init.func3()
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/manager.go:128 +0x47
created by github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Manager).Init
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/manager.go:126 +0x1e5

goroutine 382 [select]:
github.com/smallnest/chanx.process[...]({0x3be0b70, 0xc000940460?}, 0xc0002d56e0?, 0xc0002d5740, 0xc000718c80)
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:66 +0x17f
created by github.com/smallnest/chanx.NewUnboundedChanSize[...]
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:47 +0x20d

goroutine 383 [select]:
github.com/smallnest/chanx.process[...]({0x3be0b70, 0xc000940460?}, 0xc0002d57a0?, 0xc0002d5800, 0xc000718ca0)
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:66 +0x17f
created by github.com/smallnest/chanx.NewUnboundedChanSize[...]
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:47 +0x20d

goroutine 384 [select]:
github.com/tikv/pd/pkg/statistics.(*HotCache).updateItems(0xc000718cc0, 0xc000718ca0, 0xc0004d9780)
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:133 +0xab
created by github.com/tikv/pd/pkg/statistics.NewHotCache
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:45 +0x16a

goroutine 385 [select]:
github.com/tikv/pd/pkg/statistics.(*HotCache).updateItems(0xc000718cc0, 0xc000718c80, 0xc0004d9790)
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:133 +0xab
created by github.com/tikv/pd/pkg/statistics.NewHotCache
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:46 +0x22a

goroutine 514 [select]:
github.com/tikv/pd/pkg/statistics/buckets.(*HotBucketCache).schedule(0xc00221f5f0)
	/home/lhy1024/pd/pkg/statistics/buckets/hot_bucket_cache.go:154 +0x130
created by github.com/tikv/pd/pkg/statistics/buckets.NewBucketsCache
	/home/lhy1024/pd/pkg/statistics/buckets/hot_bucket_cache.go:118 +0x216

goroutine 97 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc001a44000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 531 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569f0e8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc001a7d880?, 0xc001a00000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc001a7d880, {0xc001a00000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc001a7d880, {0xc001a00000?, 0x1060100000000?, 0x8?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000690a50, {0xc001a00000?, 0xc003c3ce00?, 0x3bc70a0?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc000812c60, {0xc000bb4900, 0x9, 0x7fc53012d5b8?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc000812c60}, {0xc000bb4900, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc000bb4900?, 0x9?, 0xde4f6cbfc?}, {0x3bc6b00?, 0xc000812c60?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc000bb48c0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc00041b340)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 532 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc00012b130, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc000812d80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 517 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc000941310, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc000812ea0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 518 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc002212f00)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 519 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569eff8, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc001daac00?, 0xc001a32000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc001daac00, {0xc001a32000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc001daac00, {0xc001a32000?, 0xc002151000?, 0x1?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc0004241c8, {0xc001a32000?, 0xc001f9dc98?, 0xeaf470?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc00089a940, {0xc001a32000, 0xc000544000?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x18?, {0xc001a32000?, 0x2bf82a0?, 0x800000601?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc0002d5e60, {0xc000204900, 0x9, 0xc001f9dd28?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc0002d5e60}, {0xc000204900, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc000204900?, 0x9?, 0xc0049001f8?}, {0x3bc6b00?, 0xc0002d5e60?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc0002048c0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc002212f00, 0x0?, 0x0?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc002212000, {0x3bf00a0?, 0xc002212f00})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5

goroutine 545 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000282dc0)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 562 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000282e00)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 528 [select]:
github.com/tikv/pd/pkg/statistics.(*HotCache).updateItems(0xc0007198e0, 0xc0007198a0, 0xc0004631e0)
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:133 +0xab
created by github.com/tikv/pd/pkg/statistics.NewHotCache
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:46 +0x22a

goroutine 526 [select]:
github.com/smallnest/chanx.process[...]({0x3be0b70, 0xc00090cdc0?}, 0xc002002d20?, 0xc002002d80, 0xc0007198c0)
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:66 +0x17f
created by github.com/smallnest/chanx.NewUnboundedChanSize[...]
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:47 +0x20d

goroutine 527 [select]:
github.com/tikv/pd/pkg/statistics.(*HotCache).updateItems(0xc0007198e0, 0xc0007198c0, 0xc0004631d0)
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:133 +0xab
created by github.com/tikv/pd/pkg/statistics.NewHotCache
	/home/lhy1024/pd/pkg/statistics/hot_cache.go:45 +0x16a

goroutine 508 [select]:
github.com/tikv/pd/client.(*pdServiceDiscovery).updateMemberLoop(0xc000130c30)
	/home/lhy1024/pd/client/pd_service_discovery.go:203 +0x135
created by github.com/tikv/pd/client.(*pdServiceDiscovery).Init
	/home/lhy1024/pd/client/pd_service_discovery.go:172 +0x1ca

goroutine 509 [select]:
github.com/tikv/pd/client.(*pdServiceDiscovery).updateServiceModeLoop(0xc000130c30)
	/home/lhy1024/pd/client/pd_service_discovery.go:225 +0x106
created by github.com/tikv/pd/client.(*pdServiceDiscovery).Init
	/home/lhy1024/pd/client/pd_service_discovery.go:173 +0x20d

goroutine 510 [select]:
github.com/tikv/pd/client.(*client).handleResourceTokenDispatcher(0xc000c0a3c0, {0x3be0b70, 0xc001c2c780}, 0xc000424280)
	/home/lhy1024/pd/client/resource_manager_client.go:299 +0x21c
created by github.com/tikv/pd/client.(*client).createTokenDispatcher
	/home/lhy1024/pd/client/resource_manager_client.go:281 +0x158

goroutine 511 [select]:
github.com/tikv/pd/client.(*client).leaderCheckLoop(0xc000c0a3c0)
	/home/lhy1024/pd/client/client.go:478 +0x158
created by github.com/tikv/pd/client.(*client).setup
	/home/lhy1024/pd/client/client.go:340 +0x10d

goroutine 548 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).read(0xc000bc5c20, {0xc000bc3018, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:174 +0x90
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc000bc5c20, {0xc000bc3018?, 0xc000bf2330?, 0xc000019338?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:168 +0x178
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc0008f33b0, {0xc000bc3018?, 0xc0000193b0?, 0x150fa67?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc0008f33b0}, {0xc000bc3018, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc000bf6f00, {0xc000bc3018, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc000bc3008, 0x9680000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0xc000bc6590?, 0xc000bf6f00, {0x0, 0x0}, 0x9680000, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0xeaf470?, {0x7fc5042207b0, 0x4da8510}, 0xc000bc6600?, {0x0?, 0x0?}, {0x2d5ca20, 0xc000bc5d10}, 0xf41d97?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*serverStream).RecvMsg(0xc002114180, {0x2d5ca20?, 0xc000bc5d10})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:1474 +0x178
github.com/grpc-ecosystem/go-grpc-prometheus.(*monitoredServerStream).RecvMsg(0xc000bc3080, {0x2d5ca20?, 0xc000bc5d10?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:164 +0x33
github.com/pingcap/kvproto/pkg/resource_manager.(*resourceManagerAcquireTokenBucketsServer).Recv(0xc000bd7040)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/kvproto@v0.0.0-20230317010544-b47a4830141f/pkg/resource_manager/resource_manager.pb.go:1965 +0x4c
github.com/tikv/pd/pkg/mcs/resource_manager/server.(*Service).AcquireTokenBuckets(0xc0019daa80, {0x3bed398, 0xc000bd7040})
	/home/lhy1024/pd/pkg/mcs/resource_manager/server/grpc_service.go:169 +0x9e
github.com/pingcap/kvproto/pkg/resource_manager._ResourceManager_AcquireTokenBuckets_Handler({0x2cdf620?, 0xc0019daa80}, {0x3be8a48?, 0xc000bc3080})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/kvproto@v0.0.0-20230317010544-b47a4830141f/pkg/resource_manager/resource_manager.pb.go:1946 +0x9f
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2cdf620?, 0xc0019daa80?}, {0x3be8a48?, 0xc000bc3080?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:71 +0x89
github.com/grpc-ecosystem/go-grpc-prometheus.(*ServerMetrics).StreamServerInterceptor.func1({0x2cdf620, 0xc0019daa80}, {0x3be9540?, 0xc002114180}, 0xc0000fcd80?, 0xc000bc5c70)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:121 +0x109
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2cdf620?, 0xc0019daa80?}, {0x3be9540?, 0xc002114180?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:74 +0x6f
go.etcd.io/etcd/etcdserver/api/v3rpc.newStreamInterceptor.func1({0x2cdf620, 0xc0019daa80}, {0x3be9540, 0xc002114180}, 0xc000512000?, 0xc000bc5c70)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:237 +0x483
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1({0x2cdf620, 0xc0019daa80}, {0x3be9540, 0xc002114180}, 0xc000bc3020, 0x38d76d0)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:79 +0x1a3
google.golang.org/grpc.(*Server).processStreamingRPC(0xc002212000, {0x3bf00a0, 0xc002212f00}, 0xc000bf6f00, 0xc00221e720, 0x4c784c0, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1244 +0xdc6
google.golang.org/grpc.(*Server).handleStream(0xc002212000, {0x3bf00a0, 0xc002212f00}, 0xc000bf6f00, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1317 +0x9de
google.golang.org/grpc.(*Server).serveStreams.func1.1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:722 +0x98
created by google.golang.org/grpc.(*Server).serveStreams.func1
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:720 +0xea

goroutine 525 [select]:
github.com/smallnest/chanx.process[...]({0x3be0b70, 0xc00090cdc0?}, 0xc002002c60?, 0xc002002cc0, 0xc0007198a0)
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:66 +0x17f
created by github.com/smallnest/chanx.NewUnboundedChanSize[...]
	/data2/lhy1024/.go/pkg/mod/github.com/smallnest/chanx@v0.0.0-20221229104322-eb4c998d2072/unbounded_chan.go:47 +0x20d

goroutine 529 [select]:
github.com/tikv/pd/pkg/statistics/buckets.(*HotBucketCache).schedule(0xc0018c4750)
	/home/lhy1024/pd/pkg/statistics/buckets/hot_bucket_cache.go:154 +0x130
created by github.com/tikv/pd/pkg/statistics/buckets.NewBucketsCache
	/home/lhy1024/pd/pkg/statistics/buckets/hot_bucket_cache.go:118 +0x216

goroutine 512 [select]:
github.com/tikv/pd/pkg/schedule/labeler.(*RegionLabeler).doGC(0xc0021e6480, 0x0?)
	/home/lhy1024/pd/pkg/schedule/labeler/labeler.go:62 +0xfe
created by github.com/tikv/pd/pkg/schedule/labeler.NewRegionLabeler
	/home/lhy1024/pd/pkg/schedule/labeler/labeler.go:54 +0x125

goroutine 563 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000282f00)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 564 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000282f40)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 565 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000282f80)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 566 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000283000)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 567 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc000283080)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 568 [select]:
github.com/tikv/pd/pkg/cache.(*ttlCache).doGC(0xc0002830c0)
	/home/lhy1024/pd/pkg/cache/ttl.go:151 +0x125
created by github.com/tikv/pd/pkg/cache.newTTL
	/home/lhy1024/pd/pkg/cache/ttl.go:51 +0xdd

goroutine 569 [chan receive]:
github.com/tikv/pd/server/cluster.(*coordinator).runUntilStop(0xc000577d40)
	/home/lhy1024/pd/server/cluster/coordinator.go:307 +0x38
github.com/tikv/pd/server/cluster.(*RaftCluster).runCoordinator(0x0?)
	/home/lhy1024/pd/server/cluster/cluster.go:576 +0x6c
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:295 +0xa3e

goroutine 570 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runMetricsCollectionJob(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:495 +0x126
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:296 +0xa85

goroutine 571 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runNodeStateCheckJob(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:518 +0x126
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:297 +0xaca

goroutine 572 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runStatsBackgroundJobs(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:536 +0x1a7
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:298 +0xb0d

goroutine 573 [select]:
github.com/tikv/pd/server/region_syncer.(*RegionSyncer).RunServer(0xc000898150, {0x3be0b70, 0xc00090cdc0}, 0xc002002e40)
	/home/lhy1024/pd/server/region_syncer/server.go:126 +0x1ca
github.com/tikv/pd/server/cluster.(*RaftCluster).syncRegions(0x0?)
	/home/lhy1024/pd/server/cluster/cluster.go:582 +0x7e
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:299 +0xb50

goroutine 574 [select]:
github.com/tikv/pd/server/replication.(*ModeManager).Run(0x0?, {0x3be0b70, 0xc00090cdc0})
	/home/lhy1024/pd/server/replication/replication_mode.go:378 +0xa5
github.com/tikv/pd/server/cluster.(*RaftCluster).runReplicationMode(0x0?)
	/home/lhy1024/pd/server/cluster/cluster.go:588 +0x77
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:300 +0xb93

goroutine 575 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runMinResolvedTSJob(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:2424 +0x1b5
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:301 +0xbd8

goroutine 576 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runSyncConfig(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:402 +0x1b7
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:302 +0xc1c

goroutine 577 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).runUpdateStoreStats(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:554 +0x1a8
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:303 +0xc5f

goroutine 578 [select]:
github.com/tikv/pd/server/cluster.(*RaftCluster).startGCTuner(0xc000ac2000)
	/home/lhy1024/pd/server/cluster/cluster.go:369 +0x6b8
created by github.com/tikv/pd/server/cluster.(*RaftCluster).Start
	/home/lhy1024/pd/server/cluster/cluster.go:304 +0xca5

goroutine 742 [select]:
github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).doCheck(0xc0009b0a50, {0x3be0b70, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:181 +0xd3
created by github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).run
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:212 +0x33b

goroutine 433 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).checkSuspectRanges(0xc000577d40)
	/home/lhy1024/pd/server/cluster/coordinator.go:231 +0x13d
created by github.com/tikv/pd/server/cluster.(*coordinator).run
	/home/lhy1024/pd/server/cluster/coordinator.go:423 +0x27ca

goroutine 902 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc000c07380)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 763 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569ee18, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc000712700?, 0xc00178c000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000712700, {0xc00178c000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc000712700, {0xc00178c000?, 0x1060100000000?, 0x8?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc00044f1d0, {0xc00178c000?, 0xc004b26a00?, 0x3bc70a0?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc002ecdda0, {0xc002117380, 0x9, 0x7fc53012df18?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc002ecdda0}, {0xc002117380, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc002117380?, 0x9?, 0xcd8ee3e60?}, {0x3bc6b00?, 0xc002ecdda0?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc002117340)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc00041b6c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 745 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 1278 [IO wait]:
internal/poll.runtime_pollWait(0x7fc5042bed58, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc003d1c800?, 0xc00354d000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc003d1c800, {0xc00354d000, 0x9, 0x9})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc003d1c800, {0xc00354d000?, 0x9?, 0x10?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc003d1e2b0, {0xc00354d000?, 0x0?, 0x9?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc0002b1a50, {0xc00354d000, 0xc003d9e150?, 0x9})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
io.ReadAtLeast({0x3bc8a60, 0xc0002b1a50}, {0xc00354d000, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc00354d000?, 0x9?, 0xc003bde750?}, {0x3bc8a60?, 0xc0002b1a50?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc00354cfc0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
github.com/soheilhy/cmux.matchHTTP2Field({0x3bcae20, 0xc003d1e2b0}, {0x3bc8a60, 0xc0002b1a50}, {0x2e1d870, 0xc}, 0xc003acdd58)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/matchers.go:236 +0x15d
github.com/soheilhy/cmux.HTTP2MatchHeaderFieldSendSettings.func1({0x3bcae20, 0xc003d1e2b0}, {0x3bc8a60, 0xc0002b1a50})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/matchers.go:173 +0xbd
github.com/soheilhy/cmux.(*cMux).serve(0xc003284be0, {0x3bedde8?, 0xc003d1e2b0}, 0xc003286a20, 0xc0016f9fb8?)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:184 +0x34e
created by github.com/soheilhy/cmux.(*cMux).Serve
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:171 +0x19a

goroutine 1265 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc003c2ce80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 764 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc000bc4230, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc002ecde60)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 762 [select]:
google.golang.org/grpc/internal/transport.(*http2Client).keepalive(0xc00041b6c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1330 +0x15f
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:295 +0x13dc

goroutine 725 [select]:
github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).doCheck(0xc0009b08c0, {0x3be0b70, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:181 +0xd3
created by github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).run
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:212 +0x33b

goroutine 605 [select]:
github.com/tikv/pd/pkg/systimemon.StartMonitor({0x3be0b70, 0xc00012aa50}, 0x38db2c8, 0x38d81d0)
	/home/lhy1024/pd/pkg/systimemon/systimemon.go:35 +0x17b
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).Run
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:154 +0x85

goroutine 1228 [IO wait]:
internal/poll.runtime_pollWait(0x7fc5042bee48, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc003c86a80?, 0xc003cae000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc003c86a80, {0xc003cae000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc003c86a80, {0xc003cae000?, 0xc003707d20?, 0xe9ec45?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc003a7a468, {0xc003cae000?, 0x18?, 0xc003a3d2b8?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc003c809c0, {0xc003ca2580, 0x9, 0xc003707da0?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc003c809c0}, {0xc003ca2580, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc003ca2580?, 0x9?, 0x0?}, {0x3bc6b00?, 0xc003c809c0?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc003ca2540)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc002144540)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 906 [select]:
github.com/tikv/pd/pkg/systimemon.StartMonitor({0x3be0b70, 0xc00012aa50}, 0x38db2c8, 0x38d81d0)
	/home/lhy1024/pd/pkg/systimemon/systimemon.go:35 +0x17b
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).Run
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:154 +0x85

goroutine 635 [select]:
github.com/tikv/pd/client.(*tsoBatchController).fetchPendingRequests(0xc00351b720, {0x3be0b70, 0xc00351b6d0}, 0x0)
	/home/lhy1024/pd/client/tso_batch_controller.go:48 +0xd1
github.com/tikv/pd/client.(*tsoClient).handleDispatcher(0xc00069f700, {0x3be0b70?, 0xc00351b6d0}, {0x2e1147f, 0x6}, 0xc00351b720)
	/home/lhy1024/pd/client/tso_dispatcher.go:373 +0x37f
created by github.com/tikv/pd/client.(*tsoClient).createTSODispatcher
	/home/lhy1024/pd/client/tso_dispatcher.go:289 +0x28e

goroutine 950 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc001bfb680)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 949 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc002ede910, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc002f79a40)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 744 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/decorator.(*tidbLabelStrategy).Background(0x0?, {0x3be0b70, 0xc00070d180})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/decorator/tidb.go:71 +0xfa
github.com/pingcap/tidb-dashboard/pkg/keyvisual/decorator.TiDBLabelStrategy.func1.1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/decorator/tidb.go:34 +0x65
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/decorator.TiDBLabelStrategy.func1
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/decorator/tidb.go:32 +0xca

goroutine 659 [select]:
github.com/tikv/pd/pkg/systimemon.StartMonitor({0x3be0b70, 0xc00012aa50}, 0x38db2c8, 0x38d81d0)
	/home/lhy1024/pd/pkg/systimemon/systimemon.go:35 +0x17b
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).Run
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:154 +0x85

goroutine 1262 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc003c40000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 1261 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc003c2cd40)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 1229 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc003caa280, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc003c80a80)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 897 [select]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc00222b080)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1134 +0x605
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 925 [select]:
google.golang.org/grpc.newClientStream.func5()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:319 +0x92
created by google.golang.org/grpc.newClientStream
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:318 +0x1465

goroutine 636 [select]:
github.com/tikv/pd/client.(*tsoClient).tsoDispatcherCheckLoop(0xc00069f700)
	/home/lhy1024/pd/client/tso_dispatcher.go:210 +0x185
created by github.com/tikv/pd/client.(*tsoClient).Setup
	/home/lhy1024/pd/client/tso_client.go:117 +0x8a

goroutine 1280 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc003d1b3b0, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc003d8ee40)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Server.func2()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:296 +0xce
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:293 +0x1493

goroutine 593 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc0007116c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 770 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc0006b62c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 771 [select]:
go.etcd.io/etcd/clientv3.(*Client).autoSync(0xc001887380)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:191 +0xc5
created by go.etcd.io/etcd/clientv3.newClient
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:499 +0xe32

goroutine 772 [select]:
database/sql.(*DB).connectionOpener(0xc000b83930, {0x3be0b70, 0xc000c96f50})
	/usr/local/go/src/database/sql/sql.go:1218 +0x8d
created by database/sql.OpenDB
	/usr/local/go/src/database/sql/sql.go:791 +0x18d

goroutine 427 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc000800000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 428 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569ef08, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc00230a780?, 0xc001a70000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc00230a780, {0xc001a70000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc00230a780, {0xc001a70000?, 0xc004b26b00?, 0x1?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000936170, {0xc001a70000?, 0xc001a62c98?, 0xeaf470?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc0004cc470, {0xc001a70000, 0xc0004a1ba0?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x18?, {0xc001a70000?, 0x2bf82a0?, 0x800000601?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc0004da000, {0xc00226c2e0, 0x9, 0xc001a62d28?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc0004da000}, {0xc00226c2e0, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc00226c2e0?, 0x9?, 0xc004900810?}, {0x3bc6b00?, 0xc0004da000?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc00226c2a0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc000800000, 0x0?, 0xc002dcd7b8?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc002212000, {0x3bf00a0?, 0xc000800000})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5

goroutine 773 [select]:
github.com/ReneKroon/ttlcache/v2.(*Cache).startExpirationProcessing(0xc000bdc840)
	/data2/lhy1024/.go/pkg/mod/github.com/!rene!kroon/ttlcache/v2@v2.3.0/cache.go:119 +0x267
created by github.com/ReneKroon/ttlcache/v2.NewCache
	/data2/lhy1024/.go/pkg/mod/github.com/!rene!kroon/ttlcache/v2@v2.3.0/cache.go:457 +0x1a5

goroutine 775 [select]:
github.com/pingcap/tidb-dashboard/pkg/tidb.(*Forwarder).pollingForTiDB(0xc0007118c0)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/forwarder.go:96 +0x345
created by github.com/pingcap/tidb-dashboard/pkg/tidb.(*Forwarder).Start
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/forwarder.go:55 +0x176

goroutine 776 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569ed28, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc000b13200?, 0xc0023f7c58?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0xc000b13200)
	/usr/local/go/src/internal/poll/fd_unix.go:614 +0x2bd
net.(*netFD).accept(0xc000b13200)
	/usr/local/go/src/net/fd_unix.go:172 +0x35
net.(*TCPListener).accept(0xc0018b6528)
	/usr/local/go/src/net/tcpsock_posix.go:148 +0x25
net.(*TCPListener).Accept(0xc0018b6528)
	/usr/local/go/src/net/tcpsock.go:297 +0x3d
github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).run(0xc0009b08c0, {0x3be0b70?, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:227 +0x474
created by github.com/pingcap/tidb-dashboard/pkg/tidb.(*Forwarder).Start
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/forwarder.go:56 +0x1ec

goroutine 777 [IO wait]:
internal/poll.runtime_pollWait(0x7fc5042bef38, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc000b13280?, 0xc00078dc58?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0xc000b13280)
	/usr/local/go/src/internal/poll/fd_unix.go:614 +0x2bd
net.(*netFD).accept(0xc000b13280)
	/usr/local/go/src/net/fd_unix.go:172 +0x35
net.(*TCPListener).accept(0xc0018b6540)
	/usr/local/go/src/net/tcpsock_posix.go:148 +0x25
net.(*TCPListener).Accept(0xc0018b6540)
	/usr/local/go/src/net/tcpsock.go:297 +0x3d
github.com/pingcap/tidb-dashboard/pkg/tidb.(*proxy).run(0xc0009b0a50, {0x3be0b70?, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/proxy.go:227 +0x474
created by github.com/pingcap/tidb-dashboard/pkg/tidb.(*Forwarder).Start
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/tidb/forwarder.go:57 +0x265

goroutine 901 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc000c06f60)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 779 [select]:
github.com/pingcap/tidb-dashboard/pkg/apiserver/profiling.(*Service).serviceLoop(0xc001bfc6c0, {0x3be0b70, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/apiserver/profiling/service.go:114 +0x1e5
github.com/pingcap/tidb-dashboard/pkg/apiserver/profiling.glob..func2.1.1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/apiserver/profiling/service.go:80 +0x66
created by github.com/pingcap/tidb-dashboard/pkg/apiserver/profiling.glob..func2.1
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/apiserver/profiling/service.go:78 +0xcd

goroutine 780 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual.(*Service).managerLoop(0xc001c60ab0, {0x3be0b70, 0xc0004bee10})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/manager.go:40 +0xbe
github.com/pingcap/tidb-dashboard/pkg/keyvisual.(*Service).managerHook.func1.1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/manager.go:26 +0x65
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual.(*Service).managerHook.func1
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/manager.go:24 +0xca

goroutine 747 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 748 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 749 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 750 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 751 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 752 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 753 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 786 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 787 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 788 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 789 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 790 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 791 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 792 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 793 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 794 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 795 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 796 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).GenerateScaleColumnWork(0xc0021ba240, {0x3be0b70, 0xc00070d180}, 0xc0002d5620)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:200 +0x12c
github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:165 +0x68
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/matrix.(*distanceSplitStrategy).StartWorkers
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/matrix/distance.go:163 +0x88

goroutine 864 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc000050a80)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 863 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc0000507e0)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 1298 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc003c402c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 802 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/storage.(*Stat).rebuildRegularly(0x0?, {0x3be0b70, 0xc00070d180})
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/storage/stat.go:245 +0xea
github.com/pingcap/tidb-dashboard/pkg/keyvisual/storage.NewStat.func1.1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/storage/stat.go:215 +0x65
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual/storage.NewStat.func1
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/storage/stat.go:213 +0xdc

goroutine 803 [select]:
github.com/pingcap/tidb-dashboard/pkg/keyvisual/input.(*periodicInput).Background(0xc0009362b0, {0x3be0b70, 0xc00070d180}, 0x0?)
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/input/periodic.go:34 +0xef
github.com/pingcap/tidb-dashboard/pkg/keyvisual.newStat.func1.1()
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/service.go:336 +0x6d
created by github.com/pingcap/tidb-dashboard/pkg/keyvisual.newStat.func1
	/data2/lhy1024/.go/pkg/mod/github.com/pingcap/tidb-dashboard@v0.0.0-20230209052558-a58fc2a7e924/pkg/keyvisual/service.go:334 +0x105

goroutine 908 [chan receive]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc002f162c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1164 +0x48c
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 907 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc002f055c0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 852 [select]:
google.golang.org/grpc.(*ccBalancerWrapper).watcher(0xc0021a3bc0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:69 +0x8f
created by google.golang.org/grpc.newCCBalancerWrapper
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/balancer_conn_wrappers.go:60 +0x1ca

goroutine 853 [select]:
google.golang.org/grpc.(*addrConn).resetTransport(0xc0018a2840)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:1134 +0x605
created by google.golang.org/grpc.(*addrConn).connect
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/clientconn.go:800 +0x136

goroutine 728 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc002ea0120)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 942 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569e878, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc003c2ef00?, 0xc0031e4000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc003c2ef00, {0xc0031e4000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc003c2ef00, {0xc0031e4000?, 0x30100000001?, 0x100000004?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc00044ffc8, {0xc0031e4000?, 0x3bd13f0?, 0xc003c70c00?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc0031c0f00, {0xc002117b60, 0x9, 0x10?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc0031c0f00}, {0xc002117b60, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc002117b60?, 0x9?, 0xc001933ba0?}, {0x3bc6b00?, 0xc0031c0f00?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc002117b20)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc00041b880)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 637 [select]:
github.com/tikv/pd/client.(*tsoClient).tsCancelLoop(0xc00069f700)
	/home/lhy1024/pd/client/tso_dispatcher.go:156 +0x1c8
created by github.com/tikv/pd/client.(*tsoClient).Setup
	/home/lhy1024/pd/client/tso_client.go:118 +0xca

goroutine 638 [select]:
github.com/tikv/pd/client.(*tsoClient).watchTSDeadline.func1({0x2e1147f, 0x6}, 0xc003065740)
	/home/lhy1024/pd/client/tso_dispatcher.go:174 +0xd2
created by github.com/tikv/pd/client.(*tsoClient).watchTSDeadline
	/home/lhy1024/pd/client/tso_dispatcher.go:172 +0x185

goroutine 641 [select]:
github.com/tikv/pd/client.(*tsoClient).handleDispatcher.func2()
	/home/lhy1024/pd/client/tso_dispatcher.go:337 +0x185
created by github.com/tikv/pd/client.(*tsoClient).handleDispatcher
	/home/lhy1024/pd/client/tso_dispatcher.go:325 +0x20b

goroutine 432 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).patrolRegions(0xc000577d40)
	/home/lhy1024/pd/server/cluster/coordinator.go:131 +0x1b8
created by github.com/tikv/pd/server/cluster.(*coordinator).run
	/home/lhy1024/pd/server/cluster/coordinator.go:421 +0x2785

goroutine 726 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).runScheduler(0xc000577d40, 0xc000705ce0)
	/home/lhy1024/pd/server/cluster/coordinator.go:801 +0x1bf
created by github.com/tikv/pd/server/cluster.(*coordinator).addScheduler
	/home/lhy1024/pd/server/cluster/coordinator.go:639 +0x185

goroutine 914 [select]:
github.com/tikv/pd/server/cluster.(*coordinator).drivePushOperator(0xc000577d40)
	/home/lhy1024/pd/server/cluster/coordinator.go:295 +0x145
created by github.com/tikv/pd/server/cluster.(*coordinator).run
	/home/lhy1024/pd/server/cluster/coordinator.go:424 +0x280d

goroutine 918 [select]:
google.golang.org/grpc/internal/transport.(*http2Client).keepalive(0xc0032a0000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1330 +0x15f
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:295 +0x13dc

goroutine 909 [select]:
go.etcd.io/etcd/clientv3.(*Client).autoSync(0xc0022169c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:191 +0xc5
created by go.etcd.io/etcd/clientv3.newClient
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/client.go:499 +0xe32

goroutine 919 [IO wait]:
internal/poll.runtime_pollWait(0x7fc5042bea88, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc002e55800?, 0xc003288000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc002e55800, {0xc003288000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc002e55800, {0xc003288000?, 0x1060100000000?, 0x8?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000691520, {0xc003288000?, 0xc003c84c00?, 0x3bc70a0?})
	/usr/local/go/src/net/net.go:183 +0x45
bufio.(*Reader).Read(0xc002e7f7a0, {0xc00226cac0, 0x9, 0x7fc53012e878?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc002e7f7a0}, {0xc00226cac0, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc00226cac0?, 0x9?, 0xc0049d3320?}, {0x3bc6b00?, 0xc002e7f7a0?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc00226ca80)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Client).reader(0xc0032a0000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:1264 +0x2e5
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:300 +0x141f

goroutine 920 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc003284460, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc002e7f920)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 951 [IO wait]:
internal/poll.runtime_pollWait(0x7fc5042be998, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc003095980?, 0xc002ef2000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc003095980, {0xc002ef2000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc003095980, {0xc002ef2000?, 0xc003d20d00?, 0x1?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc000937348, {0xc002ef2000?, 0xc003701c98?, 0xeaf470?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc000372b70, {0xc002ef2000, 0x0?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x0?, {0xc002ef2000?, 0xc002ee2418?, 0x800000601?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc002ee0600, {0xc002307620, 0x9, 0xe9fdc5?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc002ee0600}, {0xc002307620, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc002307620?, 0x9?, 0xbe2f0ea2b?}, {0x3bc6b00?, 0xc002ee0600?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc0023075e0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc001bfb680, 0xc0023f1540?, 0x101000000000000?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc002212000, {0x3bf00a0?, 0xc001bfb680})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5

goroutine 922 [semacquire]:
sync.runtime_Semacquire(0xea362d?)
	/usr/local/go/src/runtime/sema.go:62 +0x27
sync.(*WaitGroup).Wait(0xc003286a20?)
	/usr/local/go/src/sync/waitgroup.go:116 +0x4b
github.com/soheilhy/cmux.(*cMux).Serve.func1()
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:150 +0x4f
github.com/soheilhy/cmux.(*cMux).Serve(0xc003284be0)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:165 +0x1c2
github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startGRPCAndHTTPServers(0xc002f74840, {0x3bded10?, 0xc002e4b7b8})
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:555 +0x2e5
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startServer
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:615 +0xda5

goroutine 923 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
google.golang.org/grpc.(*Server).Serve(0xc00322e300, {0x3bdf820, 0xc002e4b8c0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:597 +0x362
github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startGRPCServer(0xc002f74840, {0x3bdf820, 0xc002e4b8c0})
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:487 +0x10d
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startGRPCAndHTTPServers
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:552 +0x26c

goroutine 924 [chan receive]:
github.com/soheilhy/cmux.muxListener.Accept(...)
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:229
net/http.(*Server).Serve(0xc002db44b0, {0x3bdf820, 0xc002e4b8d8})
	/usr/local/go/src/net/http/server.go:3059 +0x385
github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startHTTPServer(0xc002f74840, {0x3bdf820, 0xc002e4b8d8})
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:526 +0x128
created by github.com/tikv/pd/pkg/mcs/tso/server.(*Server).startGRPCAndHTTPServers
	/home/lhy1024/pd/pkg/mcs/tso/server/server.go:553 +0x2da

goroutine 953 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).readClient(0xc003285040, {0xc002e4bb70, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:186 +0xa5
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc003285040, {0xc002e4bb70?, 0xc002260750?, 0xc0031b7a40?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:166 +0x147
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc003283b90, {0xc002e4bb70?, 0xc0031b7ab8?, 0x1504507?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc003283b90}, {0xc002e4bb70, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc0032a8600, {0xc002e4bb70, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc002e4bb60, 0x7fffffff)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0xc0031b7c80?, 0xc0032a8600, {0x0, 0x0}, 0x7fffffff, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0xc002efe340?, {0x7fc504223510, 0x4da8510}, 0xe9ee31?, {0x0?, 0x0?}, {0x2cfb7e0, 0xc003a550e0}, 0xc0031b7d70?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*csAttempt).recvMsg(0xc002e55d00, {0x2cfb7e0?, 0xc003a550e0}, 0xc0031b7ee0?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:885 +0x2ba
google.golang.org/grpc.(*clientStream).RecvMsg.func1(0x4e3a8e93f?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:736 +0x25
google.golang.org/grpc.(*clientStream).withRetry(0xc001c0f8c0, 0xc0031b7e90, 0xc0031b7e60)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:590 +0x2f1
google.golang.org/grpc.(*clientStream).RecvMsg(0xc001c0f8c0, {0x2cfb7e0?, 0xc003a550e0?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:735 +0x11f
go.etcd.io/etcd/etcdserver/etcdserverpb.(*leaseLeaseKeepAliveClient).Recv(0xc002e7cd70)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3835 +0x4c
go.etcd.io/etcd/clientv3.(*lessor).recvKeepAliveLoop(0xc0022452c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:447 +0x286
created by go.etcd.io/etcd/clientv3.(*lessor).KeepAlive.func1
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:299 +0x65

goroutine 954 [select]:
go.etcd.io/etcd/clientv3.(*lessor).deadlineLoop(0xc0022452c0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:539 +0x85
created by go.etcd.io/etcd/clientv3.(*lessor).KeepAlive.func1
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:300 +0xa5

goroutine 926 [select]:
go.etcd.io/etcd/clientv3.(*lessor).sendKeepAliveLoop(0xc0022452c0, {0x3bed760, 0xc002e7cd70})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:579 +0x1e9
created by go.etcd.io/etcd/clientv3.(*lessor).resetRecv
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/clientv3/lease.go:489 +0x2cd

goroutine 978 [select]:
go.etcd.io/etcd/etcdserver/api/v3rpc.(*LeaseServer).LeaseKeepAlive(0xc0009424c0, {0x3bed7b8?, 0xc003096810})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/lease.go:94 +0x152
go.etcd.io/etcd/etcdserver/etcdserverpb._Lease_LeaseKeepAlive_Handler({0x2c09ac0?, 0xc000942500}, {0x3be8a48?, 0xc0021b7608})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3918 +0x9f
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2c09ac0?, 0xc000942500?}, {0x3be8a48?, 0xc0021b7608?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:71 +0x89
github.com/grpc-ecosystem/go-grpc-prometheus.(*ServerMetrics).StreamServerInterceptor.func1({0x2c09ac0, 0xc000942500}, {0x3bea350?, 0xc0021b75f0}, 0xc0030f6b00?, 0xc002f039f0)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:121 +0x109
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1.1({0x2c09ac0?, 0xc000942500?}, {0x3bea350?, 0xc0021b75f0?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:74 +0x6f
go.etcd.io/etcd/etcdserver/api/v3rpc.newStreamInterceptor.func1({0x2c09ac0, 0xc000942500}, {0x3bea350, 0xc0021b75f0}, 0xc003680000?, 0xc002f039f0)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/interceptor.go:237 +0x483
github.com/grpc-ecosystem/go-grpc-middleware.ChainStreamServer.func1({0x2c09ac0, 0xc000942500}, {0x3be9540, 0xc000764fc0}, 0xc0021b75d8, 0x38d8fc0)
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.0.1-0.20190118093823-f849b5445de4/chain.go:79 +0x1a3
google.golang.org/grpc.(*Server).processStreamingRPC(0xc002212000, {0x3bf00a0, 0xc001bfb680}, 0xc000ae2e00, 0xc00094e900, 0x4c78740, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1244 +0xdc6
google.golang.org/grpc.(*Server).handleStream(0xc002212000, {0x3bf00a0, 0xc001bfb680}, 0xc000ae2e00, 0x0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:1317 +0x9de
google.golang.org/grpc.(*Server).serveStreams.func1.1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:722 +0x98
created by google.golang.org/grpc.(*Server).serveStreams.func1
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:720 +0xea

goroutine 911 [select]:
google.golang.org/grpc/internal/transport.(*recvBufferReader).read(0xc00351bbd0, {0xc0021b75d0, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:174 +0x90
google.golang.org/grpc/internal/transport.(*recvBufferReader).Read(0xc00351bbd0, {0xc0021b75d0?, 0xc0033e2330?, 0xc0030f7878?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:168 +0x178
google.golang.org/grpc/internal/transport.(*transportReader).Read(0xc0033fd170, {0xc0021b75d0?, 0xc0030f78f0?, 0x150fa67?})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:479 +0x32
io.ReadAtLeast({0x3bca420, 0xc0033fd170}, {0xc0021b75d0, 0x5, 0x5}, 0x5)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
google.golang.org/grpc/internal/transport.(*Stream).Read(0xc000ae2e00, {0xc0021b75d0, 0x5, 0x5})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/transport.go:463 +0xac
google.golang.org/grpc.(*parser).recvMsg(0xc0021b75c0, 0x9680000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:508 +0x47
google.golang.org/grpc.recvAndDecompress(0xc001c58c60?, 0xc000ae2e00, {0x0, 0x0}, 0x9680000, 0x0, {0x0, 0x0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:639 +0x66
google.golang.org/grpc.recv(0x27?, {0x7fc5042207b0, 0x4da8510}, 0x3bd0270?, {0x0?, 0x0?}, {0x2cbb120, 0xc0018e32b0}, 0x0?, 0x0, ...)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/rpc_util.go:707 +0x6e
google.golang.org/grpc.(*serverStream).RecvMsg(0xc000764fc0, {0x2cbb120?, 0xc0018e32b0})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/stream.go:1474 +0x178
github.com/grpc-ecosystem/go-grpc-prometheus.(*monitoredServerStream).RecvMsg(0xc0021b7608, {0x2cbb120?, 0xc0018e32b0?})
	/data2/lhy1024/.go/pkg/mod/github.com/grpc-ecosystem/go-grpc-prometheus@v1.2.0/server_metrics.go:164 +0x33
go.etcd.io/etcd/etcdserver/etcdserverpb.(*leaseLeaseKeepAliveServer).Recv(0xc003096810)
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/etcdserverpb/rpc.pb.go:3937 +0x4c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*LeaseServer).leaseKeepAlive(0xc0009424c0, {0x3bed7b8, 0xc003096810})
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/lease.go:108 +0x5c
go.etcd.io/etcd/etcdserver/api/v3rpc.(*LeaseServer).LeaseKeepAlive.func1()
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/lease.go:92 +0x2e
created by go.etcd.io/etcd/etcdserver/api/v3rpc.(*LeaseServer).LeaseKeepAlive
	/data2/lhy1024/.go/pkg/mod/go.etcd.io/etcd@v0.5.0-alpha.5.0.20220915004622-85b640cee793/etcdserver/api/v3rpc/lease.go:91 +0xea

goroutine 1281 [select]:
google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc003d3c000)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:968 +0x233
created by google.golang.org/grpc/internal/transport.newHTTP2Server
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:302 +0x14d8

goroutine 943 [select]:
google.golang.org/grpc/internal/transport.(*controlBuffer).get(0xc0031ce9b0, 0x1)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:395 +0x115
google.golang.org/grpc/internal/transport.(*loopyWriter).run(0xc0031c0fc0)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/controlbuf.go:513 +0x85
google.golang.org/grpc/internal/transport.newHTTP2Client.func3()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:346 +0x6a
created by google.golang.org/grpc/internal/transport.newHTTP2Client
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_client.go:344 +0x160c

goroutine 1314 [IO wait]:
internal/poll.runtime_pollWait(0x7fc50569e968, 0x72)
	/usr/local/go/src/runtime/netpoll.go:306 +0x89
internal/poll.(*pollDesc).wait(0xc003d1c780?, 0xc003d24000?, 0x0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:84 +0x32
internal/poll.(*pollDesc).waitRead(...)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc003d1c780, {0xc003d24000, 0x8000, 0x8000})
	/usr/local/go/src/internal/poll/fd_unix.go:167 +0x299
net.(*netFD).Read(0xc003d1c780, {0xc003d24000?, 0x100000000?, 0xc00397a780?})
	/usr/local/go/src/net/fd_posix.go:55 +0x29
net.(*conn).Read(0xc003d1e2a8, {0xc003d24000?, 0xc0032cac40?, 0xe9ee31?})
	/usr/local/go/src/net/net.go:183 +0x45
github.com/soheilhy/cmux.(*bufferedReader).Read(0xc0004c4da0, {0xc003d24000, 0xc003682340?, 0x8000})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/buffer.go:53 +0x135
github.com/soheilhy/cmux.(*MuxConn).Read(0x400000301?, {0xc003d24000?, 0xea67c8?, 0xc003682340?})
	/data2/lhy1024/.go/pkg/mod/github.com/soheilhy/cmux@v0.1.4/cmux.go:260 +0x25
bufio.(*Reader).Read(0xc003d12f60, {0xc002307e00, 0x9, 0x3?})
	/usr/local/go/src/bufio/bufio.go:237 +0x1bb
io.ReadAtLeast({0x3bc6b00, 0xc003d12f60}, {0xc002307e00, 0x9, 0x9}, 0x9)
	/usr/local/go/src/io/io.go:332 +0x9a
io.ReadFull(...)
	/usr/local/go/src/io/io.go:351
golang.org/x/net/http2.readFrameHeader({0xc002307e00?, 0x9?, 0x14fa605?}, {0x3bc6b00?, 0xc003d12f60?})
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:237 +0x6e
golang.org/x/net/http2.(*Framer).ReadFrame(0xc002307dc0)
	/data2/lhy1024/.go/pkg/mod/golang.org/x/net@v0.2.0/http2/frame.go:498 +0x95
google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc003d3c000, 0xc001a137b0?, 0xc001a13780?)
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/internal/transport/http2_server.go:458 +0x177
google.golang.org/grpc.(*Server).serveStreams(0xc00322e300, {0x3bf00a0?, 0xc003d3c000})
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:718 +0x114
google.golang.org/grpc.(*Server).handleRawConn.func1()
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:679 +0x34
created by google.golang.org/grpc.(*Server).handleRawConn
	/data2/lhy1024/.go/pkg/mod/google.golang.org/grpc@v1.26.0/server.go:678 +0x3f5
FAIL	github.com/tikv/pd/tests/mcs/tso	60.096s
FAIL
